"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[232],{31232:(e,t,n)=>{n.r(t),n.d(t,{default:()=>bt});var r=n(24586),i=n(86330),o=n(32024),a=n(12089),u=n(29399),l=n(20048),s=n(88610),c=n(77650),d=n(50910),f=n(90689),p=n(83705),h=n(54807),y=n(47904),g=n(63390),x=n(63717),v=n(56927),m=n(95346),j=n(20863),b=n(82103),O=n(41867),P=n(8594),C=n(5209),w=n(68111),S="@blacktokki:notebook:keywords:",k=function(){var e=(0,i.default)((function*(e){try{var t=yield C.default.getItem(S+e);return t?JSON.parse(t):[]}catch(n){return console.error("Error loading keywords",n),[]}}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,i.default)((function*(e,t){try{var n=JSON.stringify(t);yield C.default.setItem(S+e,n)}catch(r){console.error("Error saving keywords",r)}}));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e,t=(0,P.useAuthContext)().auth,n=t.isLocal?"":`${null==(e=t.user)?void 0:e.id}`;return(0,w.useQuery)({queryKey:["keywords",n],queryFn:function(){var e=(0,i.default)((function*(){return yield k(n)}));return function(){return e.apply(this,arguments)}}()})},T=(0,P.axiosCreate)("notebook"),F=(function(){var e=(0,i.default)((function*(e){return(yield T.get(`/api/v1/content/${e}`)).data}))}(),function(){var e=(0,i.default)((function*(e,t){var n=void 0!==e?`&parentId=${e}`:"",r=void 0!==t?`&types=${t.join(",")}`:"";return(yield T.get(`/api/v1/content?self=true&size=256${n}${r}`)).data.value}));return function(t,n){return e.apply(this,arguments)}}()),L=function(){var e=(0,i.default)((function*(e){return(yield T.post("/api/v1/content",e)).data.id}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.default)((function*(e){var t=e.id,n=e.updated;yield T.patch("/api/v1/content",{ids:[t],updated:n})}));return function(t){return e.apply(this,arguments)}}(),B=(function(){var e=(0,i.default)((function*(e){yield T.delete(`/api/v1/content/${e}`)}))}(),function(){var e=(0,i.default)((function*(e){return(yield T.get(`/api/v1/preview/autocomplete?query=${e.query}`)).data}));return function(t){return e.apply(this,arguments)}}());function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(){return z.apply(this,arguments)}function z(){return(z=(0,i.default)((function*(){return new Promise((function(e,t){var n=indexedDB.open("@Blacktokki:notebook",1);n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("NOTE")||t.createObjectStore("NOTE",{keyPath:"title"}),t.objectStoreNames.contains("SNAPSHOT")||t.createObjectStore("SNAPSHOT",{keyPath:["title","updated"]})},n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}}))}))).apply(this,arguments)}var A,H="@blacktokki:notebook:recent_pages",$=function(){var e=(0,i.default)((function*(e,t){if(e)return yield F(void 0,[t]);try{var n=yield M();return new Promise((function(e,r){var i=n.transaction(t,"readonly").objectStore(t).getAll();i.onsuccess=function(){e(i.result)},i.onerror=function(){throw console.error("Error loading contents from IndexedDB:",i.error),i.error}}))}catch(r){return console.error("Error opening IndexedDB",r),[]}}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=(0,i.default)((function*(e,t,n){var r=t.find((function(e){return n===e.id}));if(e){if(r){var i=yield n?N({id:n,updated:r}).then((function(){return n})):L(r),o=R(R({},r),{},{type:"SNAPSHOT",id:void 0,parentId:i});yield L(o)}}else try{var a=(yield M()).transaction(["NOTE","SNAPSHOT"],"readwrite"),u=a.objectStore("NOTE"),l=a.objectStore("SNAPSHOT");for(var s of t)u.put(s);if(r){var c=R(R({},r),{},{type:"SNAPSHOT"});l.put(c)}yield new Promise((function(e,t){a.oncomplete=function(){return e(void 0)},a.onerror=function(){return t(a.error)}}))}catch(d){console.error("Error saving contents to IndexedDB",d)}}));return function(t,n,r){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.default)((function*(){try{var e=yield C.default.getItem(H);return e?JSON.parse(e):[]}catch(t){return console.error("Error loading recent pages",t),[]}}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.default)((function*(e){try{var t=JSON.stringify(e);yield C.default.setItem(H,t)}catch(n){console.error("Error saving recent pages",n)}}));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,P.useAuthContext)().auth;return(0,w.useQuery)({queryKey:["pageContents",!e.isLocal],queryFn:function(){var t=(0,i.default)((function*(){return yield $(!e.isLocal,"NOTE")}));return function(){return t.apply(this,arguments)}}()})},V=function(){var e=(0,P.useAuthContext)().auth;return(0,w.useQuery)({queryKey:["snapshotContents",!e.isLocal],queryFn:function(){var t=(0,i.default)((function*(){return yield $(!e.isLocal,"SNAPSHOT")}));return function(){return t.apply(this,arguments)}}()})},Y=function(e){var t=(0,w.useQueryClient)(),n=Q(),r=n.data,o=void 0===r?[]:r,a=n.isFetching;return(0,w.useQuery)({queryKey:["pageContent",e],queryFn:function(){var n=(0,i.default)((function*(){var n=o.find((function(t){return t.title===e}));n&&(void 0===(yield K()).find((function(t){return t===e}))&&(A=e,yield t.invalidateQueries({queryKey:["lastPage"]})));return n||{title:e,description:"",id:void 0}}));return function(){return n.apply(this,arguments)}}(),enabled:!a})},_=function(){var e=Q(),t=e.data,n=void 0===t?[]:t,r=e.isFetching;return(0,w.useQuery)({queryKey:["lastPage"],queryFn:function(){var e=(0,i.default)((function*(){return n.find((function(e){return e.title===A}))}));return function(){return e.apply(this,arguments)}}(),enabled:!r})},U=function(){var e=(0,w.useQueryClient)(),t=(0,P.useAuthContext)().auth,n=Q().data,r=void 0===n?[]:n;return(0,w.useMutation)({mutationFn:function(){var e=(0,i.default)((function*(e){var n,i=e.title,o=e.description,a=r.find((function(e){return e.title===i})),u=t.isLocal?(new Date).toISOString():void 0;if(a)n=r.map((function(e,t){return e.id===a.id?R(R({},e),{},{description:o,updated:u}):e}));else{var l,s={title:i,description:o,input:i,userId:(null==(l=t.user)?void 0:l.id)||0,parentId:0,type:"NOTE",order:0,updated:u,option:{}};n=[].concat((0,p.default)(r),[s])}return yield q(!t.isLocal,n,null==a?void 0:a.id),{title:i,description:o}}));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(){var t=(0,i.default)((function*(t){yield e.invalidateQueries({queryKey:["pageContents"]}),yield e.invalidateQueries({queryKey:["snapshotContents"]}),yield e.invalidateQueries({queryKey:["pageContent",t.title]}),yield e.invalidateQueries({queryKey:["recentPages"]})}));return function(e){return t.apply(this,arguments)}}()})},G=function(){var e=(0,w.useQueryClient)();return(0,w.useMutation)({mutationFn:function(){var e=(0,i.default)((function*(e){var t=(yield K()).filter((function(t){return e!==t}));return A=void 0,yield W(t),{title:e}}));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(t){e.invalidateQueries({queryKey:["recentPages"]}),e.invalidateQueries({queryKey:["pageContent"]}),e.invalidateQueries({queryKey:["lastPage"]})}})},J=function(e){return j.default.create({container:{flex:1,backgroundColor:"dark"===e?"#121212":"#FFFFFF",paddingHorizontal:24,paddingVertical:16},card:{backgroundColor:"dark"===e?"#1E1E1E":"#FFFFFF",borderRadius:8,padding:16,marginBottom:16,borderWidth:1,borderColor:"dark"===e?"#333333":"#EEEEEE",shadowColor:"dark"===e?"#000000":"#888888",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},title:{fontSize:18,fontWeight:"bold",marginBottom:8,color:"dark"===e?"#FFFFFF":"#000000"},text:{fontSize:16,color:"dark"===e?"#E4E4E4":"#333333",lineHeight:24},button:{backgroundColor:"dark"===e?"#2C73B5":"#3498DB",borderRadius:4,padding:12,alignItems:"center",marginVertical:8},buttonText:{color:"#FFFFFF",fontWeight:"500",fontSize:16},searchButton:{backgroundColor:"#3498DB",justifyContent:"center",alignItems:"center",width:36,height:36,borderRadius:4,marginHorizontal:4},resultSeparator:{height:1,backgroundColor:"dark"===e?"#333333":"#EEEEEE"},input:{backgroundColor:"dark"===e?"#222222":"#FFFFFF",borderWidth:1,borderColor:"dark"===e?"#444444":"#CCCCCC",borderRadius:4,padding:10,color:"dark"===e?"#E4E4E4":"#333333",marginBottom:16},separator:{height:1,backgroundColor:"dark"===e?"#333333":"#EEEEEE",marginVertical:12},smallText:{fontSize:14,color:"dark"===e?"#BBBBBB":"#777777"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},flex:{flex:1},row:{flexDirection:"row",alignItems:"center"},centerContent:{justifyContent:"center",alignItems:"center"}})},X=n(50575);function Z(e){for(var t=(new DOMParser).parseFromString(e,"text/html"),n=[{path:"",title:"",header:"",level:0,description:""}],r=["H1","H2","H3","H4","H5","H6"],i=[],o=null,a=t.body.firstChild,u=function(){o&&(n.push(o),o=null)};a;){if(a.nodeType===Node.ELEMENT_NODE){var l=a;if(r.includes(l.tagName)){var s;u();for(var c=parseInt(l.tagName.substring(1),10),d=(null==(s=l.textContent)?void 0:s.trim())||"";i.length>0&&i[i.length-1].level>=c;)i.pop();i.push({level:c,title:d});var f=i.map((function(e){return e.title})).join(" > ");o={path:f,title:d,level:c,header:l.outerHTML,description:""}}else o?o.description+=l.outerHTML:n[0].description+=l.outerHTML}else a.nodeType===Node.TEXT_NODE&&o&&(o.description+=a.textContent||"");a=a.nextSibling}return u(),n}function ee(e){var t=(0,o.useColorScheme)(),n=J(t);return(0,X.jsx)(y.default,{style:[te.resultsContainer,"dark"===t?te.darkResults:te.lightResults],children:(0,X.jsx)(v.default,{data:e.data,keyExtractor:function(e){return e.path},renderItem:function(t){return function(t){return(0,X.jsxs)(x.default,{style:te.resultItem,onPress:function(){return e.onPress(t)},children:[0===t.level&&(0,X.jsx)(O.default,{name:"file-text-o",size:18,color:"#FFFFFF"}),(0,X.jsx)(o.Text,{style:[e.path===t.path?[n.title,{marginBottom:5,marginTop:3}]:n.text,te.resultText,{left:10*t.level+10}],children:0===t.level?e.root:t.title})]})}(t.item)},ItemSeparatorComponent:function(){return(0,X.jsx)(y.default,{style:n.resultSeparator})}})})}var te=j.default.create({backButton:{padding:8},resultItem:{padding:10,flexDirection:"row"},resultText:{fontSize:14},buttonContainer:{flexDirection:"row",justifyContent:"space-between"},resultsContainer:{borderWidth:1,borderRadius:4},lightResults:{backgroundColor:"#FFFFFF",borderColor:"#CCCCCC"},darkResults:{backgroundColor:"#222222",borderColor:"#444444"}});function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie="";function oe(e){var t=new URL(e);if(location.origin===t.origin){var n=new URLSearchParams(t.search),r=n.get("title"),i=n.get("section")||void 0;if(r)return{title:r,section:i}}}function ae(e,t){var n=oe(e);n?t.push("NotePage",n):window.open(e,"_blank")}function ue(e){return e.flatMap((function(e){return function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("a");return Array.from(t).map((function(e){var t;return{text:(null==(t=e.textContent)?void 0:t.trim())||e.href,url:e.href}}))}(e.description||"").map((function(t){var n=oe(t.url);if(n&&t.text!==n.title)return re(re({type:"_NOTELINK",name:t.text},n),{},{origin:e.title})})).filter((function(e){return void 0!==e}))}))}var le=function(e,t){var n=t.toLowerCase(),r=ue(e);return[].concat((0,p.default)(e.filter((function(e){return e.title.toLowerCase().startsWith(n)}))),(0,p.default)(r.filter((function(e){return e.name.toLowerCase().startsWith(n)}))))},se=function(){var e=(0,o.useColorScheme)(),t=J(e),n=(0,h.useNavigation)(),r=Q().data,i=(void 0===r?[]:r).filter((function(e){return e.description}));return i&&(0,X.jsx)(x.default,{style:t.searchButton,onPress:function(){var e=i[Math.floor(Math.random()*i.length)],t=Z(e.description||"");n.push("NotePage",{title:e.title,section:t[Math.floor(Math.random()*t.length)].title})},children:(0,X.jsx)(O.default,{name:"random",size:18,color:"#FFFFFF"})})},ce=function(e){return`${e.title}${e.section?" \u25b6 "+e.section:""}`},de=function(e){var t=e.filteredPages,n=e.handlePagePress,r=e.addKeyword,i=(0,o.useColorScheme)(),a=J(i),l=(0,u.useCallback)((function(e){return b.default.create({onPanResponderStart:function(){"_NOTELINK"===e.type&&e.section?(n(e.title,e.section),null==r||r(e)):(n(e.title),null==r||r({type:"_KEYWORD",title:e.title}))}}).panHandlers}),[]);return(0,X.jsx)(v.default,{data:t,keyExtractor:function(e){return JSON.stringify([e.title,e.name,e.section])},renderItem:function(e){var t=e.item;return(0,X.jsxs)(x.default,re(re({style:pe.resultItem},l(t)),{},{children:[(0,X.jsx)(m.default,{style:[a.text,pe.resultText],children:"_NOTELINK"===t.type?t.name:t.title}),"_NOTELINK"===t.type&&(0,X.jsx)(m.default,{style:[a.text,pe.resultText,{fontSize:12}],children:ce(t)})]}))},ItemSeparatorComponent:function(){return(0,X.jsx)(y.default,{style:[a.resultSeparator]})}})},fe=function(e){var t=e.handlePress,n=e.useRandom,r=void 0===n||n,a=(0,u.useState)(ie),l=(0,f.default)(a,2),s=l[0],c=l[1],d=(0,u.useState)(!1),v=(0,f.default)(d,2),j=v[0],C=v[1],S=(0,h.useNavigation)(),T=(0,o.useColorScheme)(),F=J(T),L=(0,u.useRef)(),N=D().data,B=void 0===N?[]:N,I=function(){var e,t=(0,w.useQueryClient)(),n=(0,P.useAuthContext)().auth,r=n.isLocal?"":`${null==(e=n.user)?void 0:e.id}`;return(0,w.useMutation)({mutationFn:function(){var e=(0,i.default)((function*(e){var t=yield k(r),n=(0,p.default)(new Set([JSON.stringify(e)].concat((0,p.default)(t.map((function(e){return JSON.stringify(e)})))))).map((function(e){return JSON.parse(e)}));yield E(r,n)}));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(){var e=(0,i.default)((function*(){yield t.invalidateQueries({queryKey:["keywords",r]})}));return function(){return e.apply(this,arguments)}}()})}(),R=Q().data,M=void 0===R?[]:R,z=s.length>0?le(M,s).slice(0,10):B.slice(0,10),A=function(){s.trim()&&(H(s.trim()),I.mutate({type:"_KEYWORD",title:s.trim()}))},H=function(e,n){t?t(e):S.push("NotePage",{title:e,section:n}),c("")},$=(0,u.useMemo)((function(){return b.default.create({onPanResponderStart:A}).panHandlers}),[s]);return(0,u.useEffect)((function(){ie=s}),[s]),(0,h.useFocusEffect)((function(){s!==ie&&c(ie)})),(0,X.jsxs)(y.default,{style:pe.container,children:[(0,X.jsxs)(y.default,{style:pe.searchContainer,children:[(0,X.jsx)(g.default,{ref:function(e){L.current=e},style:[F.input,pe.searchInput],value:s,onChangeText:function(e){c(e)},placeholder:"\uac80\uc0c9",placeholderTextColor:"dark"===T?"#777777":"#999999",onSubmitEditing:A,onFocus:function(){return C(!0)},onBlur:function(){return C(!1)}}),(0,X.jsx)(x.default,{style:F.searchButton,onPress:A,disabled:!s.trim(),children:(0,X.jsx)(O.default,{name:"search",size:18,color:"#FFFFFF"})}),r&&(0,X.jsx)(se,{})]}),j&&(0,X.jsx)(y.default,{style:[pe.resultsContainer,"dark"===T?pe.darkResults:pe.lightResults],children:z.length>0?(0,X.jsx)(de,{filteredPages:z,handlePagePress:H,addKeyword:I.mutate}):s.trim()?(0,X.jsx)(x.default,re(re({style:pe.resultItem},$),{},{children:(0,X.jsxs)(m.default,{style:[F.text,pe.resultText],children:['"',s,'" \uc0c8 \ub178\ud2b8 \ub9cc\ub4e4\uae30']})})):null})]})},pe=j.default.create({container:{position:"relative",width:"100%",maxWidth:960,zIndex:999},searchContainer:{flexDirection:"row"},searchInput:{flex:1,height:36,marginBottom:0,paddingVertical:4,fontSize:14},resultsContainer:{position:"absolute",top:40,left:0,right:0,maxHeight:500,borderWidth:1,borderRadius:4,zIndex:999,elevation:5},lightResults:{backgroundColor:"#FFFFFF",borderColor:"#CCCCCC"},darkResults:{backgroundColor:"#222222",borderColor:"#444444"},resultItem:{flexDirection:"row",justifyContent:"space-between",padding:10},resultText:{fontSize:14}}),he=n(16434),ye=n.n(he);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=e.datetime,n=e.callback,r=t?ye()(t):function(){var e=ye()(),t=parseInt(e.format("mm"),10)%5;return e.add(5-t,"minute")}(),i=(0,o.useLangContext)(),a=i.lang,l=i.locale,s=(0,u.useState)(r.format("YYYY-MM-DD")),c=(0,f.default)(s,2),d=c[0],p=c[1],h=(0,u.useState)([]),y=(0,f.default)(h,2),g=y[0],v=y[1],m=(0,o.useModalsContext)().setModal,j=function(){m(ve,null)};return(0,X.jsx)(o.View,{style:{flex:1,margin:0,justifyContent:"flex-end",backgroundColor:"transparent"},children:(0,X.jsxs)(o.View,{style:{alignItems:"center",minHeight:450},children:[(0,X.jsxs)(o.View,{style:{flexDirection:"row",width:"100%"},children:[(0,X.jsx)(o.View,{style:{flex:1,flexDirection:"row"},children:(0,X.jsx)(x.default,{onPress:j,children:(0,X.jsx)(o.Text,{children:a("back")})})}),(0,X.jsx)(o.View,{style:{flex:1},children:(0,X.jsx)(o.Text,{style:{fontSize:20,textAlign:"center"},children:a("Date")})}),(0,X.jsx)(o.View,{style:{flex:1}})]}),(0,X.jsx)(o.View,{style:{marginBottom:20,height:1,width:"100%"},lightColor:"#ddd",darkColor:"rgba(255,255,255, 0.3)"}),(0,X.jsx)(u.Suspense,{fallback:(0,X.jsx)(X.Fragment,{}),children:(0,X.jsx)(o.Calendar,{locale:l,style:void 0,setDate:p,disableAllTouchEventsForDisabledDays:!0,onMonthChange:function(e){return v((ye()(e.dateString),[]))},markedDates:xe(xe({},g.reduce((function(e,t){return e[t]={disabled:!0},e}),{})),(d?[d]:[]).reduce((function(e,t){return e[t]={selected:!0},e}),{}))})}),(0,X.jsxs)(o.View,{style:{flexDirection:"row"},children:[(0,X.jsx)(o.CommonButton,{title:a("save"),onPress:function(){null==n||n(d),j()}}),(0,X.jsx)(o.CommonButton,{title:a("cancel"),onPress:function(){null==n||n(void 0),j()}})]})]})})}var me=function(e){var t=e.contents,n=e.isLoading,r=e.onPress,i=e.emptyMessage,a=(0,o.useColorScheme)(),u=J(a);return(0,X.jsx)(y.default,{style:u.container,children:n?(0,X.jsx)(y.default,{style:[u.card,u.centerContent],children:(0,X.jsx)(m.default,{style:u.text,children:"\ub85c\ub529 \uc911..."})}):t.length>0?(0,X.jsx)(v.default,{data:t,keyExtractor:function(e){return JSON.stringify([e.title,e.section,e.id])},renderItem:function(e){var t=e.item;return(0,X.jsxs)(x.default,{style:u.card,onPress:function(){return r(t.title,t.section,t.id)},children:[(0,X.jsx)(m.default,{style:u.title,children:ce(t)}),[].concat((0,p.default)(t.subtitle?[t.subtitle]:[]),(0,p.default)(t.subtitles||[])).map((function(e){return(0,X.jsx)(m.default,{style:[u.smallText],children:e})}))]})},ItemSeparatorComponent:function(){return(0,X.jsx)(y.default,{style:{height:8}})}}):(0,X.jsx)(y.default,{style:[u.card,u.centerContent],children:(0,X.jsx)(m.default,{selectable:!1,style:u.text,children:i})})})},je=n(9367),be=n(46072),Oe=n(76579),Pe=n(40205),Ce=n(57687);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(){var e=(0,o.useLangContext)().lang;return(0,X.jsx)(Oe.default,{left:function(e){return(0,X.jsx)(l.default,Se(Se({},e),{},{icon:"clock"}))},title:e("TimeLine"),onPress:function(){return(0,a.navigate)("TimeLine")}})},Ee=function(){var e=(0,o.useLangContext)().lang;return(0,X.jsx)(Oe.default,{left:function(e){return(0,X.jsx)(l.default,Se(Se({},e),{},{icon:"note-alert"}))},title:e("Problems"),onPress:function(){return(0,a.push)("Problem")}})},De=function(e){return e.filter((function(e){return e.description})).sort((function(e,t){return new Date(t.updated).getTime()-new Date(e.updated).getTime()}))};const Te=function(e){var t=(0,o.useLangContext)().lang,n=Q(),r=function(){var e=Q(),t=e.data,n=void 0===t?[]:t,r=e.isFetching;return(0,w.useQuery)({queryKey:["recentPages"],queryFn:function(){var e=(0,i.default)((function*(){return(yield K()).map((function(e){return n.find((function(t){return t.title===e}))})).filter((function(e){return void 0!==e}))}));return function(){return e.apply(this,arguments)}}(),enabled:!r})}(),s=_().data,c=u.useRef(),d=function(){var e=(0,w.useQueryClient)();return(0,w.useMutation)({mutationFn:function(){var e=(0,i.default)((function*(e){var t=e.title,n=e.direct,r=yield K();if(void 0===r.find((function(e){return e===t}))||n){var i=[t].concat((0,p.default)(r));yield W(i)}return{title:t}}));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(t){e.invalidateQueries({queryKey:["recentPages"]})}})}(),f=G(),h="NOTE"===e.type?n.data?De(n.data):[]:r.data,y=s&&void 0===(null==h?void 0:h.find((function(e){return e.id===s.id}))),g=(0,o.useResizeContext)(),x="landscape"===g?5:8,v=function(e){e===(null==s?void 0:s.title)&&(c.current?(clearTimeout(c.current),c.current=void 0,d.mutate({title:e})):c.current=setTimeout((function(){c.current=void 0}),500)),(0,a.navigate)("NotePage",{title:e})},m=function(e){var t;c.current&&(clearTimeout(c.current),c.current=void 0),void 0===(null==(t=r.data)?void 0:t.find((function(t){return t.title===e})))?d.mutate({title:e,direct:!0}):f.mutate(e)};return("LAST"!==e.type||y)&&(0,X.jsx)(Pe.default,{children:h&&("LAST"===e.type?y&&(0,X.jsx)(Oe.default,{left:function(e){return(0,X.jsx)(l.default,Se(Se({},e),{},{icon:"file-document"}))},title:s.title,onPress:function(){return v(s.title)},onLongPress:function(){return m(s.title)},style:{padding:x},titleStyle:{fontStyle:"italic"}}):"NOTE"===e.type?(0,X.jsxs)(X.Fragment,{children:[h.slice(0,e.noteCount).map((function(e){return(0,X.jsx)(Oe.default,{left:function(t){var n;return(0,X.jsx)(l.default,Se(Se({},t),{},{icon:void 0===(null==(n=r.data)?void 0:n.find((function(t){return t.title===e.title})))?"notebook":"notebook-edit"}))},title:e.title,onPress:function(){return v(e.title)},onLongPress:function(){return m(e.title)},style:{padding:x}},e.title)})),(0,X.jsx)(Oe.default,{left:function(e){return(0,X.jsx)(l.default,Se(Se({},e),{},{icon:"notebook-multiple"}))},title:t("more..."),onPress:function(){return(0,a.push)("RecentPages")},style:{padding:x}})]}):h.map((function(e){return(0,X.jsx)(Oe.default,{left:function(e){return(0,X.jsx)(l.default,Se(Se({},e),{},{icon:"file-document-edit"}))},right:function(t){return(0,X.jsx)(Ce.default,{style:{justifyContent:"center",borderRadius:x,width:40+2*x,height:40+2*x,margin:-x},onPress:function(){return f.mutate(e.title)},children:(0,X.jsx)(l.default,{style:{left:x-7},icon:"close"})})},title:e.title,onPress:function(){return(0,a.navigate)("NotePage",{title:e.title})},style:{padding:x}},e.title)})))})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=(new Date).getTimezoneOffset(),Be=function(e){var t=new Date(e);t.setMinutes(t.getMinutes()-Ne);var n=t.toISOString().slice(0,16),r=n.slice(0,10);return r===(new Date).toISOString().slice(0,10)?n.slice(11):r};function Ie(e){var t=Array.from(e.attributes);for(var n of t)"href"===n.name?e.setAttribute("href",""):e.removeAttribute(n.name);for(var r of e.children)Ie(r)}function Re(e){var t=(new DOMParser).parseFromString(e,"text/html").body;for(var n of t.children)Ie(n);return t.innerHTML}var Me=function(e){return e?20:4},ze=function(e){return e?250:190},Ae=u.memo((function(e){var t=e.item,n=e.index,r=(0,o.useResizeContext)(),i=ze("landscape"===r),a=(0,o.useColorScheme)(),l=J(a),s="landscape"===r?2:0,c=(0,u.useState)(n<10),d=(0,f.default)(c,2),p=d[0],y=d[1];if((0,u.useEffect)((function(){if(!p){var e=setTimeout((function(){return y(!0)}),50*n-400);return function(){return clearTimeout(e)}}}),[t,n,p]),null===t)return(0,X.jsx)(o.View,{style:{flexBasis:"landscape"===r?"33%":"50%",maxWidth:i}});var g=(0,h.useNavigation)(),v=function(){return g.push("NotePage",{title:t.title})};return(0,X.jsxs)(x.default,{style:{flexBasis:"landscape"===r?"33%":"50%",padding:Me("landscape"===r),paddingRight:0,minWidth:i,maxWidth:i},onPress:v,children:[(0,X.jsx)(be.default,{onPress:v,style:[l.card,{paddingTop:8,aspectRatio:1/Math.sqrt(2),borderRadius:6,marginVertical:10,marginHorizontal:8,overflow:"hidden"}],children:(0,X.jsx)(be.default.Content,{style:{padding:0},children:p&&t.descriptionComponent})}),(0,X.jsxs)(o.View,{style:{flexDirection:"row",marginTop:10,padding:0,justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,X.jsx)(o.Text,{style:{fontSize:14+s,overflow:"hidden"},children:t.title}),(0,X.jsx)(o.Text,{style:{fontSize:12+s,opacity:.4,textAlign:"right"},children:Be(t.updated)})]})]})})),He=u.memo((function(){var e=(0,o.useColorScheme)(),t=J(e),r=(0,o.useResizeContext)(),i=Q(),a=i.data,l=void 0===a?[]:a,s=i.isLoading,c=(0,h.useNavigation)(),d=ze("landscape"===r),f=(0,u.useMemo)((function(){return u.lazy((function(){return n.e(274).then(n.t.bind(n,39274,23))}))}),[]),y=(0,u.useMemo)((function(){return[].concat((0,p.default)(De(l).map((function(e){return Le(Le({},e),{},{descriptionComponent:(0,X.jsx)(f,{source:{html:Re(e.description||"").slice(0,300)||""},renderersProps:{a:{onPress:function(){return c.push("NotePage",{title:e.title})}}},tagsStyles:{body:{color:t.text.color}},contentWidth:d})})}))),[null,null])}),[l]),g=(d+5)*("landscape"===r?5:3);return s?(0,X.jsx)(o.View,{style:[t.card,t.centerContent],children:(0,X.jsx)(o.Text,{style:t.text,children:"\ub85c\ub529 \uc911..."})}):y.length>2?(0,X.jsx)(je.default,{contentContainerStyle:{alignSelf:"center",backgroundColor:"transparent",flexBasis:"100%",maxWidth:g,flexWrap:"wrap",flexDirection:"row",paddingRight:Me("landscape"===r),justifyContent:"landscape"===r?void 0:"center"},children:(0,X.jsx)(u.Suspense,{children:y.map((function(e,t){return function(e){var t=e.item,n=e.index;return(0,X.jsx)(Ae,{index:n,item:t},n)}({item:e,index:t})}))})},r):(0,X.jsx)(o.View,{style:[t.card,t.centerContent],children:(0,X.jsx)(o.Text,{style:t.text,children:"\ucd5c\uadfc \uc218\uc815\ud55c \ub178\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})}));function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=n(54426),We=n(95225),Qe=j.default.create({buttonContainer:{flexDirection:"row",justifyContent:"space-between"},cancelButton:{flex:1,marginRight:8,backgroundColor:"#95A5A6"},saveButton:{flex:1,marginLeft:8}}),Ve=j.default.create({columns:{marginTop:8,marginBottom:16},backButton:{padding:8},buttonContainer:{flexDirection:"row",justifyContent:"space-between"},cancelButton:{flex:1,marginRight:8,backgroundColor:"#95A5A6"},moveButton:{flex:1,marginLeft:8}}),Ye=n(57917),_e=function(e,t,n){var r,i=null==(r=e.find((function(e){return e.title===t})))?void 0:r.path;return i?e.filter((function(e){return e.path.startsWith(i)})).map((function(e){return(n||e.path!==i?e.header:"")+e.description})).join(""):""},Ue=function(e){var t=e.split("/");return t.length<2?[e]:[t.slice(0,t.length-1).join("/"),t[t.length-1]]},Ge=j.default.create({backButton:{padding:8},pageTitle:{flex:1,fontSize:20},actionButtons:{flexDirection:"row"},actionButton:{padding:8,marginLeft:8}});function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t=e.date,n=e.setDate,r=e.monthly,i=(0,o.useColorScheme)(),a=J(i),u=(0,o.useModalsContext)().setModal,l=(0,o.useResizeContext)();return(0,X.jsxs)(y.default,{style:[a.card,{flexDirection:"row",justifyContent:"center"}],children:[(0,X.jsx)(o.CommonButton,{title:"<<",onPress:function(){return n(ye()(t).add(-1,r?"year":"month").format("YYYY-MM-DD"))},style:{paddingVertical:8,backgroundColor:"transparent"}}),(0,X.jsx)(o.CommonButton,{title:"<",onPress:function(){return n(ye()(t).add(-1,r?"month":"day").format("YYYY-MM-DD"))},style:{paddingVertical:8,backgroundColor:"transparent"}}),(0,X.jsx)(y.default,{style:{flexDirection:"row",backgroundColor:"transparent"},children:(0,X.jsx)(x.default,{style:[{flex:1,borderWidth:1,borderRadius:8,height:30,paddingHorizontal:10,paddingVertical:3,borderColor:"rgba(27,31,36,0.15)",minWidth:"landscape"===l?210:150,minHeight:37,paddingTop:0}],onPress:function(){return u(ve,{datetime:t,callback:function(e){return n(e||t)}})},children:(0,X.jsx)(o.Text,{style:{textAlign:"center",fontWeight:"700",fontSize:28},children:r&&t?t.substring(0,7):t})})}),(0,X.jsx)(o.CommonButton,{title:">",onPress:function(){return n(ye()(t).add(1,r?"month":"day").format("YYYY-MM-DD"))},style:{paddingVertical:8,backgroundColor:"transparent"}}),(0,X.jsx)(o.CommonButton,{title:">>",onPress:function(){return n(ye()(t).add(1,r?"year":"month").format("YYYY-MM-DD"))},style:{paddingVertical:8,backgroundColor:"transparent"}})]})}function nt(e){var t=(new Date).getFullYear(),n=[{regex:/\b(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})\b/g,parse:function(e){return{text:e[0],dateStart:e[1],dateEnd:e[2]}}},{regex:/\b(\d{4}-\d{2}-\d{2})\b/g,parse:function(e){return{text:e[0],dateStart:e[1],dateEnd:e[1]}}},{regex:/\b(\d{4})-(\d{2})\b/g,parse:function(e){var t=parseInt(e[1],10),n=parseInt(e[2],10),r=new Date(t,n,0).getDate();return{text:e[0],dateStart:`${t}-${String(n).padStart(2,"0")}-01`,dateEnd:`${t}-${String(n).padStart(2,"0")}-${String(r).padStart(2,"0")}`}}},{regex:/(?<!\d)(\d{2})\/(\d{2})(?!\d)/g,parse:function(e){var n=parseInt(e[1],10),r=parseInt(e[2],10);return{text:e[0],dateStart:`${t}-${String(n).padStart(2,"0")}-${String(r).padStart(2,"0")}`,dateEnd:`${t}-${String(n).padStart(2,"0")}-${String(r).padStart(2,"0")}`}}}],r=[],i=[];for(var o of n)for(var a=new RegExp(o.regex.source,"g"),u=void 0,l=function(){var e=u.index,t=a.lastIndex;if(i.some((function(n){var r=(0,f.default)(n,2),i=r[0],o=r[1];return e<o&&t>i})))return 1;r.push(o.parse(u)),i.push([e,t])};null!==(u=a.exec(e));)l();return r}var rt=n(55589),it=n(31692),ot=function(e){var t=(0,o.useColorScheme)(),n=J(t),r=o.Colors[t].text;return(0,X.jsxs)(x.default,{style:[n.header,{marginBottom:0}],onPress:e.onPress,disabled:!e.onPress,children:[(0,X.jsx)(o.Text,{style:{fontSize:20,color:r,fontWeight:"600"},children:e.title}),e.onPress&&(0,X.jsx)(o.Text,{children:">"})]})},at=function(e){var t=(0,o.useColorScheme)(),n=o.Colors[t].text;return(0,X.jsx)(o.TextButton,{title:e.title,textStyle:{fontSize:16,color:n,textDecorationLine:e.active?"underline":"none"},style:{borderRadius:20},onPress:e.onPress})};const ut=function(){var e,t=(0,o.useLangContext)().lang,n=(0,P.useAuthContext)(),r=n.auth,l=n.dispatch,s=(0,o.useColorScheme)(),c=(0,h.useNavigation)(),d=J(s),p=(0,u.useState)(!1),g=(0,f.default)(p,2),x=g[0],v=g[1],m=D().data,j=void 0===m?[]:m,b=function(){var e,t=(0,w.useQueryClient)(),n=(0,P.useAuthContext)().auth,r=n.isLocal?"":`${null==(e=n.user)?void 0:e.id}`;return(0,w.useMutation)({mutationFn:function(){var e=(0,i.default)((function*(){yield E(r,[])}));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=(0,i.default)((function*(){yield t.invalidateQueries({queryKey:["keywords",r]})}));return function(){return e.apply(this,arguments)}}()})}();return(0,X.jsxs)(y.default,{children:[(0,X.jsx)(y.default,{style:d.card,children:(0,X.jsx)(a.ConfigSections,{})}),(0,X.jsxs)(y.default,{style:d.card,children:[(0,X.jsx)(ot,{title:t("* Search Settings")}),(0,X.jsxs)(y.default,{style:{flexDirection:"row"},children:[(0,X.jsx)(at,{title:"Search History",onPress:function(){return v(!x)},active:x}),x&&!!j.length&&(0,X.jsx)(at,{title:"Clear",onPress:function(){return b.mutate()},active:!1})]}),x&&(0,X.jsx)(y.default,{style:[d.card,{padding:0}],children:(0,X.jsx)(de,{filteredPages:j,handlePagePress:function(e,t){return c.push("NotePage",{title:e,section:t})}})})]}),(0,X.jsx)(y.default,{style:d.card,children:(0,X.jsx)(ot,{title:t("* Archive"),onPress:function(){return c.push("Archive",{})}})}),(0,X.jsxs)(y.default,{style:d.card,children:[(0,X.jsxs)(y.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,X.jsx)(ot,{title:t("* Account Settings")}),!r.isLocal&&(0,X.jsxs)(o.Text,{numberOfLines:1,ellipsizeMode:"tail",style:{marginLeft:4},children:["- ",null==(e=r.user)?void 0:e.username]})]}),(0,X.jsxs)(y.default,{style:{flexDirection:"row"},children:[!!r.user&&(0,X.jsx)(at,{title:"My Account",onPress:function(){return r.isLocal&&l({type:"LOGOUT_LOCAL"})},active:!r.isLocal}),(0,X.jsx)(at,{title:"Local Account",onPress:function(){return!r.isLocal&&l({type:"LOGIN_LOCAL"})},active:!!r.isLocal}),r.user?(0,X.jsx)(at,{title:"Logout",onPress:function(){return l({type:"LOGOUT_REQUEST"})},active:!1}):(0,X.jsx)(at,{title:"Login",onPress:function(){return l({type:"LOGOUT_LOCAL"})},active:!1})]})]})]})};var lt=function(){var e=(0,o.useColorScheme)(),t=(0,o.useLangContext)().lang;return(0,X.jsxs)(je.default,{style:{flex:1,backgroundColor:o.Colors[e].background},children:[(0,X.jsx)(rt.default,{style:{},selectable:!1,children:t("Open Pages")}),(0,X.jsx)(Te,{type:"LAST"}),(0,X.jsx)(Te,{type:"PAGE"}),(0,X.jsx)(rt.default,{style:{},selectable:!1,children:t("Event Pages")}),(0,X.jsx)(ke,{}),(0,X.jsx)(Ee,{})]})},st=function(){return(0,X.jsx)(He,{})},ct=function(){var e=(0,o.useColorScheme)(),t=J(e);return(0,X.jsx)(je.default,{style:{flex:1},contentContainerStyle:[t.container,{backgroundColor:o.Colors[e].background}],children:(0,X.jsx)(ut,{})})};var dt=function(e){return e.isLocal?"Blacktokki Notebook - Local":"Blacktokki Notebook"},ft={Home:{title:dt,component:function(e){e.navigation,e.route;var t=(0,o.useLangContext)().lang,n=(0,o.useColorScheme)(),r=J(n),i=(0,P.useAuthContext)().auth.isLocal?"Blacktokki Notebook - Local":"Blacktokki Notebook",u=[{title:t("Discovery"),component:lt,icon:(0,X.jsx)(l.default,{icon:"compass"}),headerRight:function(){return(0,X.jsx)(X.Fragment,{})}},{title:t("All Notes"),component:st,icon:(0,X.jsx)(l.default,{icon:"notebook"}),headerRight:function(){return(0,X.jsx)(X.Fragment,{})}},{title:t("Config"),component:ct,icon:(0,X.jsx)(l.default,{icon:"dots-horizontal"}),headerRight:function(){return(0,X.jsx)(X.Fragment,{})}}];return(0,X.jsx)(a.HomeSection,{tabViews:u,homeView:{title:i,headerRight:function(){return(0,X.jsx)(fe,{})}},headerTitle:i,children:(0,X.jsxs)(y.default,{style:[r.container,{width:"100%",justifyContent:"space-between"}],children:[(0,X.jsx)(ut,{}),(0,X.jsx)(o.ContractFooter,{buttons:[{icon:(0,X.jsx)(it.default,{name:"github",size:24,color:o.Colors[n].iconColor}),url:"https://github.com/blacktokki/blacktokki-notebook",isWeb:!0},{icon:(0,X.jsx)(it.default,{name:"mail",size:24,color:o.Colors[n].iconColor}),url:"mailto:ydh051541@naver.com",isWeb:!1}]})]})})},path:"home"},NotePage:{title:dt,component:function(){var e=(0,h.useIsFocused)(),t=(0,h.useRoute)(),n=t.params,r=n.title,i=n.section,a=n.archiveId,l=(0,h.useNavigation)(),s=(0,o.useColorScheme)(),c=(0,o.useResizeContext)(),d=J(s),p=(0,u.useState)(!1),g=(0,f.default)(p,2),v=g[0],j=g[1],b=(0,u.useState)(!1),P=(0,f.default)(b,2),C=P[0],w=P[1],S=Y(r),k=S.data,E=S.isFetching,D=V().data,T=a?null==D?void 0:D.find((function(e){return e.id===a&&e.description!==(null==k?void 0:k.description)})):void 0,F=function(){l.navigate("EditPage",{title:r})},L=Z((null==k?void 0:k.description)||""),N=L.findIndex((function(e){return e.title===i})),B=[{icon:"arrow-left",moveSection:L.findLast((function(e,t){var n;return t<N&&(!C||(null==(n=L[N])?void 0:n.level)>=e.level)})),reverse:!1},{icon:"arrow-right",moveSection:L.find((function(e,t){var n;return t>N&&(!C||(null==(n=L[N])?void 0:n.level)>=e.level)})),reverse:!0}],I=(0,u.useState)(),R=(0,f.default)(I,2),M=R[0],z=R[1];(0,u.useEffect)((function(){var e,t;z(T?T.description:null==(e=i?C?_e(L,i,!0):null==(t=L.find((function(e){return e.title===i})))?void 0:t.description:null==k?void 0:k.description)?void 0:e.trim())}),[k,T,i,C]),(0,u.useEffect)((function(){j(!1)}),[t]);var A=Ue(r),H="dark"===s?"#E4E4E4":"#333333",$="dark"===s?"#FFFFFF88":"#00000088";return e&&(0,X.jsxs)(X.Fragment,{children:["portrait"===c&&(0,X.jsx)(fe,{}),(0,X.jsxs)(je.default,{style:[d.container,{paddingRight:12,scrollbarGutter:"stable"}],contentContainerStyle:{flexGrow:1},children:[(0,X.jsxs)(y.default,{style:d.header,children:[(0,X.jsxs)(y.default,{style:{flexDirection:"row"},children:[(0,X.jsx)(x.default,{onPress:function(){return(2===A.length?l.push:l.navigate)("NotePage",{title:A[0]})},children:(0,X.jsx)(m.default,{style:[d.title,Ge.pageTitle,i||2===A.length?{color:$}:{}],numberOfLines:1,children:A[0]})}),2===A.length&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(m.default,{style:[d.title,Ge.pageTitle,{flex:0}],children:"/"}),(0,X.jsx)(x.default,{onPress:function(){return l.navigate("NotePage",{title:r})},children:(0,X.jsx)(m.default,{style:[d.title,Ge.pageTitle,i?{color:$}:{}],numberOfLines:1,children:A[1]})})]}),!!i&&(0,X.jsx)(m.default,{style:[d.title,Ge.pageTitle,{marginLeft:5}],numberOfLines:1,children:ce({title:"",section:i})}),T&&(0,X.jsx)(m.default,{style:[d.text,{marginLeft:5,fontStyle:"italic"}],children:"("+T.updated+")"})]}),(0,X.jsxs)(y.default,{style:Ge.actionButtons,children:[!i&&(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(x.default,{onPress:function(){return l.navigate("Archive",{title:r})},style:Ge.actionButton,children:(0,X.jsx)(O.default,{name:"history",size:16,color:H})})}),!!i&&(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(x.default,{onPress:function(){return w(!C)},style:Ge.actionButton,children:(0,X.jsx)(O.default,{name:C?"compress":"expand",size:16,color:H})})}),!(!i&&!M)&&!T&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(x.default,{onPress:function(){return j(!v)},style:Ge.actionButton,children:(0,X.jsx)(O.default,{name:"list",size:16,color:H})}),(0,X.jsx)(x.default,{onPress:function(){l.navigate("MovePage",{title:r,section:i})},style:Ge.actionButton,children:(0,X.jsx)(O.default,{name:"exchange",size:16,color:H})})]}),!(!i&&!M)&&!T&&!i&&(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(x.default,{onPress:F,style:Ge.actionButton,children:(0,X.jsx)(O.default,{name:"pencil",size:16,color:H})})})]})]}),(0,X.jsxs)(y.default,{style:d.flex,children:[(0,X.jsx)(y.default,{style:!v&&M?[d.card,{padding:0,marginBottom:0}]:{flex:1,position:"absolute"},children:(0,X.jsx)(Ke.EditorViewer,{active:!0,value:M||"",theme:s,onLink:function(e){return ae(e,l)},autoResize:!0})}),E||void 0===M?(0,X.jsx)(y.default,{style:[d.card,d.centerContent],children:(0,X.jsx)(Ye.default,{size:"large",color:"#3498DB"})}):v?(0,X.jsx)(ee,{data:L,path:i||"",root:r,onPress:function(e){return l.navigate("NotePage",{title:r,section:e.title})}}):null!=k&&k.description?!!i&&(0,X.jsx)(y.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},children:B.map((function(e){var t=e.moveSection,n=e.icon,i=e.reverse;return void 0!==t&&(0,X.jsxs)(x.default,{onPress:function(){return l.navigate("NotePage",0===t.level?{title:r}:{title:r,section:t.title})},style:[{flexDirection:i?"row-reverse":"row",paddingVertical:16}],children:[(0,X.jsx)(O.default,{name:n,size:16,color:H,style:{alignSelf:"center"}}),(0,X.jsx)(m.default,{style:[d.text,{fontWeight:"bold",marginHorizontal:16}],children:0===t.level?r:t.title})]},n)}))}):(0,X.jsxs)(y.default,{style:[d.card,d.centerContent],children:[(0,X.jsx)(m.default,{style:d.text,children:"\uc544\uc9c1 \ub0b4\uc6a9\uc774 \uc5c6\ub294 \ubb38\uc11c\uc785\ub2c8\ub2e4. '\ud3b8\uc9d1' \ubc84\ud2bc\uc744 \ub20c\ub7ec \ub0b4\uc6a9\uc744 \ucd94\uac00\ud574\ubcf4\uc138\uc694."}),(0,X.jsx)(x.default,{onPress:F,style:d.button,children:(0,X.jsx)(m.default,{style:d.buttonText,children:"\ud3b8\uc9d1\ud558\uae30"})})]})]})]})]})},path:"page"},EditPage:{title:dt,component:function(){var e=(0,h.useRoute)(),t=(0,h.useIsFocused)(),n=e.params.title,r=(0,h.useNavigation)(),a=(0,o.useColorScheme)(),l=J(a),s=Y(n),c=s.data,d=s.isLoading,g=Q().data,v=void 0===g?[]:g,j=(0,u.useState)(""),b=(0,f.default)(j,2),O=b[0],P=b[1],C=U();return(0,u.useEffect)((function(){!d&&null!=c&&c.description&&P(null==c?void 0:c.description)}),[d,c]),(0,h.useFocusEffect)((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}})),t&&(0,X.jsxs)(y.default,{style:l.container,children:[(0,X.jsx)(y.default,{style:l.header,children:(0,X.jsxs)(m.default,{style:[l.title,{flex:1}],children:[n," - \ud3b8\uc9d1"]})}),(0,X.jsx)(Ke.Editor,{active:!0,value:O,setValue:P,theme:a,autoComplete:[{trigger:"[",getMatchedChars:function(){var e=(0,i.default)((function*(e){var t,r=(t=e,v.filter((function(e){return e.title.startsWith(n+"/")})).map((function(e){return{type:"_CHILDNOTE",name:e.title.split(n+"/")[1],title:e.title}})).filter((function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())})));return[{type:"_NOTELINK",name:e,title:n,section:e}].concat((0,p.default)(r.length?r:[{type:"_CHILDNOTE",name:e,title:n+"/"+e}]),(0,p.default)(le(v,e))).map((function(e){var t="_NOTELINK"===e.type?e.name+`(${ce(e)})`:"_CHILDNOTE"===e.type?e.name:e.title;return{text:t,value:`<a href=${encodeURI("_NOTELINK"===e.type&&e.section?`?title=${e.title}&section=${e.section}`:`?title=${e.title}`)}>${t}</a>`}}))}));return function(t){return e.apply(this,arguments)}}()},{trigger:"http",getMatchedChars:function(){var e=(0,i.default)((function*(e){var t="http"+e,n=new URL(t);if("http:"!==n.protocol&&"https:"!==n.protocol)return[];var r=yield B({query:t});return r.title?[{text:r.title,value:`<a href=${r.url}>${r.title}</a>`}]:[]}));return function(t){return e.apply(this,arguments)}}()}]}),(0,X.jsxs)(y.default,{style:Qe.buttonContainer,children:[(0,X.jsx)(x.default,{style:[l.button,Qe.cancelButton],onPress:function(){r.canGoBack()?r.goBack():r.navigate("NotePage",{title:n})},children:(0,X.jsx)(m.default,{style:l.buttonText,children:"\ucde8\uc18c"})}),(0,X.jsx)(x.default,{style:[l.button,Qe.saveButton],onPress:function(){(null==c?void 0:c.description)!==O?C.mutate({title:n,description:O},{onSuccess:function(){r.navigate("NotePage",{title:n})},onError:function(e){We.default.alert("\uc624\ub958",e.message||"\ubb38\uc11c\ub97c \uc800\uc7a5\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}):r.navigate("NotePage",{title:n})},children:(0,X.jsx)(m.default,{style:l.buttonText,children:"\uc800\uc7a5"})})]})]})},path:"edit"},MovePage:{title:dt,component:function(){var e,t=(0,h.useRoute)().params,n=t.title,r=t.section,a=(0,h.useNavigation)(),l=(0,o.useColorScheme)(),s=(0,o.useResizeContext)(),c=(0,u.useState)(n),d=(0,f.default)(c,2),g=d[0],v=d[1],j=Y(n),b=j.data,O=j.isLoading,C=Z((null==b?void 0:b.description)||""),S=(null==(e=C.find((function(e){return e.title===r})))?void 0:e.path)||"",k=Y(g).data,E=Z((null==k?void 0:k.description)||"").filter((function(e){return n!==g||S===e.path||!e.path.startsWith(S)})),D=(0,u.useState)(""),T=(0,f.default)(D,2),F=T[0],L=T[1],N=(0,u.useState)(),B=(0,f.default)(N,2),I=B[0],M=B[1],z=J(l),A=U(),H=function(){var e=(0,w.useQueryClient)(),t=Q().data,n=void 0===t?[]:t,r=(0,P.useAuthContext)().auth;return(0,w.useMutation)({mutationFn:function(){var e=(0,i.default)((function*(e){var t=e.oldTitle,i=e.newTitle,o=e.description,a=n.find((function(e){return e.title===t}));if(!a)throw new Error("Page not found");if(n.some((function(e){return e.title===i})))throw new Error("Page with new title already exists");var u=n.map((function(e){return e.title===t?R(R({},e),{},{title:i,description:o||a.description}):e}));yield q(!r.isLocal,u,a.id);var l=(yield K()).map((function(e){return e===t?i:e}));return yield W(l),{oldTitle:t,newTitle:i}}));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(t){e.invalidateQueries({queryKey:["pageContents"]}),e.invalidateQueries({queryKey:["snapshotContents"]}),e.invalidateQueries({queryKey:["pageContent",t.oldTitle]}),e.invalidateQueries({queryKey:["pageContent",t.newTitle]}),e.invalidateQueries({queryKey:["recentPages"]})}})}(),$=(0,u.useMemo)((function(){var e,t=C.filter((function(e){return e.path.startsWith(S)})),n=(null==k?void 0:k.title)===(null==b?void 0:b.title)+"/"+(null==(e=t[0])?void 0:e.title),r=t.map((function(e,t){return(n&&0===t?"":e.header)+e.description})).join(""),i=C.filter((function(e){return!e.path.startsWith(S)})),o=i.map((function(e){return e.header+e.description})).join(""),a=(null==b?void 0:b.title)===(null==k?void 0:k.title)?i:E,u=a.findLastIndex((function(e){return e.path.startsWith(F)}));return{sourceDescription:o,targetDescription:void 0===(null==k?void 0:k.id)?r:[].concat((0,p.default)(a.slice(0,u+1).map((function(e){return e.header+e.description}))),(0,p.default)(t.map((function(e,t){return(e.path===S&&""===e.description||n&&0===t?"":e.header)+e.description}))),(0,p.default)(a.slice(u+1).map((function(e){return e.header+e.description})))).join("")}}),[C,E,S,F]),V=$.sourceDescription,_=$.targetDescription,G=function(){a.canGoBack()?a.goBack():a.navigate("NotePage",{title:n})};(0,u.useEffect)((function(){O||b||G(),b&&v(b.title+(r?`/${r}`:""))}),[b,O]),(0,u.useEffect)((function(){O||L(r?"":S)}),[r,O]);var te=C.find((function(e){return e.path===S})),ne=E.find((function(e){return e.path===F})),re=!g.trim()||void 0===ne;return(0,X.jsx)(je.default,{style:z.container,children:(0,X.jsxs)(y.default,{style:z.card,children:[(0,X.jsxs)(y.default,{style:{flexDirection:"landscape"===s?"row":"column",zIndex:1},children:[(0,X.jsxs)(y.default,{style:{zIndex:1},children:[(0,X.jsx)(m.default,{style:z.text,children:r?"\ud604\uc7ac \ub178\ud2b8 \uc81c\ubaa9 \ubc0f \ubb38\ub2e8:":"\ud604\uc7ac \ub178\ud2b8 \uc81c\ubaa9:"}),(0,X.jsx)(m.default,{style:[z.title,Ve.columns],children:ce({title:n,section:r})}),(0,X.jsx)(m.default,{style:z.text,children:"\uc0c8 \ub178\ud2b8 \uc81c\ubaa9 \ubc0f \ubb38\ub2e8:"}),(0,X.jsx)(fe,{handlePress:v,useRandom:!1}),(0,X.jsx)(y.default,{style:Ve.columns,children:(0,X.jsx)(ee,{path:F,onPress:function(e){return L(e.path)},root:(null==k?void 0:k.title)||"",data:E})})]}),(0,X.jsxs)(y.default,{style:{flex:1},children:[(0,X.jsx)(m.default,{style:z.text,children:" \ubbf8\ub9ac\ubcf4\uae30:"}),(0,X.jsxs)(x.default,{style:[z.button,Ve.moveButton,{flex:0,flexDirection:"row",alignItems:"center",paddingTop:24,paddingBottom:16}],onPress:function(){return M(!I)},children:[(0,X.jsx)(m.default,{style:z.title,children:ce({title:n,section:null==te?void 0:te.title})}),(0,X.jsx)(m.default,{style:[z.text,{marginBottom:8,fontSize:14}],children:" \u279c "}),(0,X.jsx)(m.default,{style:z.title,children:ce({title:g,section:null==ne?void 0:ne.title})})]}),void 0!==I&&(0,X.jsx)(y.default,{style:{display:I?"flex":"none"},children:(0,X.jsx)(Ke.EditorViewer,{active:!0,value:_,theme:l,onLink:function(e){return ae(e,a)},autoResize:!0})})]})]}),(0,X.jsxs)(y.default,{style:Ve.buttonContainer,children:[(0,X.jsx)(x.default,{style:[z.button,Ve.cancelButton],onPress:G,children:(0,X.jsx)(m.default,{style:z.buttonText,children:"\ucde8\uc18c"})}),(0,X.jsx)(x.default,{style:[z.button,re?Ve.cancelButton:Ve.moveButton],onPress:function(){void 0===(null==k?void 0:k.id)?H.mutate({oldTitle:n,newTitle:g.trim(),description:""===S?void 0:_},{onSuccess:function(e){a.navigate({name:"NotePage",params:{title:e.newTitle}})},onError:function(e){We.default.alert("\uc624\ub958",e.message||"\ub178\ud2b8 \uc774\ub3d9 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}):((null==b?void 0:b.title)===k.title&&S===F&&G(),A.mutate({title:k.title,description:_},{onSuccess:function(e){(null==b?void 0:b.title)!==k.title&&A.mutate({title:n,description:V}),a.navigate({name:"NotePage",params:{title:e.title}})},onError:function(e){We.default.alert("\uc624\ub958",e.message||"\ub178\ud2b8 \uc774\ub3d9 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}))},disabled:re,children:(0,X.jsx)(m.default,{style:z.buttonText,children:"\uc774\ub3d9"})})]})]})})},path:"move"},RecentPages:{title:dt,component:function(){var e=(0,o.useResizeContext)();return(0,X.jsxs)(X.Fragment,{children:["portrait"===e&&(0,X.jsx)(fe,{}),(0,X.jsx)(He,{})]})},path:"recent"},Problem:{title:dt,component:function(){var e=(0,o.useResizeContext)(),t=(0,h.useNavigation)(),n=Q(),r=n.data,i=void 0===r?[]:r,a=n.isLoading,u=ue(i).filter((function(e){var t=i.find((function(t){return t.title===e.title}));return null==t||!t.description||void 0!==e.section&&!Z(t.description).find((function(t){return t.title===e.section}))})).map((function(e){return Xe(Xe({},e),{},{subtitle:(void 0===e.section?"Unknown note link":"Unknown section link")+`(${e.origin})`})})),l=i.map((function(e){var t=Ue(e.title);if(e.description&&2===t.length&&void 0===i.find((function(e){return e.title===t[0]})))return{title:t[0],subtitle:`Empty parent note(${e.title})`}})).filter((function(e){return void 0!==e})),s=i.flatMap((function(e){var t=Z(e.description||""),n=t.filter((function(e){return 0!==e.level&&""===_e(t,e.title,!1).trim()})),r=t.filter((function(e){return function(e){for(var t,n=/<(ol|ul)\b[^>]*>([\s\n\r]*)<\/\1>/gi,r=[];null!==(t=n.exec(e));)r.push(t[0]);return r}(e.description).length>0}));return[].concat((0,p.default)(n.map((function(t){return{title:e.title,section:0===t.level?void 0:t.title,subtitle:"Empty section"}}))),(0,p.default)(r.map((function(t){return{title:e.title,section:0===t.level?void 0:t.title,subtitle:"Empty list"}}))))}));return(0,X.jsxs)(X.Fragment,{children:["portrait"===e&&(0,X.jsx)(fe,{}),(0,X.jsx)(me,{contents:[].concat((0,p.default)(u),(0,p.default)(l),(0,p.default)(s)),onPress:function(e){return t.push("EditPage",{title:e})},isLoading:a,emptyMessage:"\uc791\uc131\uc774 \ud544\uc694\ud55c \ub178\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})},path:"problem"},Archive:{title:dt,component:function(){var e,t=(0,h.useNavigation)(),n=(0,h.useRoute)(),r=(0,o.useResizeContext)(),i=null==(e=n.params)?void 0:e.title,a=V(),u=a.data,l=void 0===u?[]:u,s=a.isLoading;return(0,X.jsxs)(X.Fragment,{children:["portrait"===r&&(0,X.jsx)(fe,{}),(0,X.jsx)(me,{contents:l.filter((function(e){return void 0===i||i===e.title})).sort((function(e,t){return new Date(t.updated).getTime()-new Date(e.updated).getTime()})).map((function(e,t){return qe(qe({},e),{},{subtitle:`\ucd5c\uadfc \uc218\uc815: ${Be(e.updated)}`,id:e.id||t})})),isLoading:s,onPress:function(e,n,r){return(void 0===e?t.push:t.navigate)("NotePage",{title:e,archiveId:r})},emptyMessage:"\ucd5c\uadfc \uc218\uc815\ud55c \ub178\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})},path:"archive"},TimeLine:{title:dt,component:function(){var e=(0,h.useNavigation)(),t=(0,o.useColorScheme)(),n=J(t),r=(0,o.useResizeContext)(),i=(0,u.useState)(ye()().format("YYYY-MM-DD")),a=(0,f.default)(i,2),l=a[0],s=a[1],c=new Date(l).getTime(),d=Q(),p=d.data,g=void 0===p?[]:p,x=d.isLoading,v=(0,u.useMemo)((function(){return g.flatMap((function(e){return Z(e.description||"").map((function(t){var n=(0,Ke.toRaw)(t.header+t.description).split("\n").map((function(e){return{original:e,matches:nt(e)}}));return et(et({},e),{},{section:t.title,dateMatches:n})})).filter((function(e){return e.dateMatches.length>0}))}))}),[g]).map((function(e){return et(et({},e),{},{subtitles:e.dateMatches.filter((function(e){return e.matches.find((function(e){return new Date(e.dateStart).getTime()<=c&&c<=new Date(e.dateEnd).getTime()}))})).map((function(e){return e.original}))})})).filter((function(e){return e.subtitles.length>0}));return(0,X.jsxs)(X.Fragment,{children:["portrait"===r&&(0,X.jsx)(fe,{}),(0,X.jsx)(y.default,{style:[et(et({},n.container),{},{flex:void 0,paddingBottom:0})],children:(0,X.jsx)(tt,{date:l,setDate:s})}),(0,X.jsx)(me,{contents:v,onPress:function(t,n){return e.push("NotePage",{title:t,section:n})},isLoading:x,emptyMessage:"\ub178\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})},path:"timeline"}},pt=n(52990);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const gt=function(){var e=(0,o.useLangContext)().lang;return(0,X.jsxs)(o.View,{style:{flex:1},children:[(0,X.jsx)(Oe.default,{left:function(e){return(0,X.jsx)(l.default,yt(yt({},e),{},{icon:"home"}))},title:e("Home"),onPress:function(){return(0,a.push)("Home")}}),(0,X.jsx)(ke,{}),(0,X.jsx)(Ee,{}),(0,X.jsxs)(je.default,{style:"web"===pt.default.OS?{scrollbarWidth:"thin"}:{},children:[(0,X.jsx)(rt.default,{style:{},selectable:!1,children:e("Open Pages")}),(0,X.jsx)(Te,{type:"LAST"}),(0,X.jsx)(Te,{type:"PAGE"}),(0,X.jsx)(rt.default,{style:{flex:1},selectable:!1,children:e("Recent Changes")}),(0,X.jsx)(Te,{type:"NOTE",noteCount:10})]})]})};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt=function(){return"landscape"===(0,o.useResizeContext)()?(0,X.jsx)(fe,{}):void 0},jt=function(){var e=(0,i.default)((function*(){var e=yield Promise.all([n.e(928),n.e(973)]).then(n.bind(n,49928));return{main:ft,login:a.login,prefixes:[e.makeUrl("/")],rootPath:"blacktokki-notebook",documentTitle:{formatter:function(){return"blacktokki-notebook"}},rootScreen:{main:"Home",login:"LoginScreen"},headerLeftIcon:(0,X.jsx)(l.default,{icon:"backburger",style:{left:-18,top:-14}}),headerRight:(0,X.jsx)(mt,{}),modals:[ve],drawer:(0,X.jsx)(gt,{})}}));return function(){return e.apply(this,arguments)}}();const bt=function(){var e=(0,o.useColorScheme)(),t="dark"===e?s.MD2DarkTheme:c.MD2LightTheme,n=vt(vt({},t),{},{colors:vt(vt({},t.colors),{},{primary:o.Colors[e].text})}),r=u.lazy((function(){return jt().then((function(e){return{default:function(){return(0,X.jsx)(a.Navigation,{config:e})}}}))}));return(0,X.jsx)(d.default,{theme:n,children:(0,X.jsx)(u.Suspense,{fallback:(0,X.jsx)(X.Fragment,{}),children:(0,X.jsx)(r,{})})})}}}]);
//# sourceMappingURL=232.6a37d5c4.chunk.js.map