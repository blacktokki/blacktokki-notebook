{"version":3,"file":"static/js/594.e91c5159.chunk.js","mappings":"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","sources":["src/services/feedynote.ts","src/hooks/useContentList.ts","src/components/TimeLine.tsx","src/components/ContentList.tsx","src/hooks/useInfiniteContentList.ts","src/hooks/usePreview.ts","src/screens/main/EditorScreen.tsx","src/components/ContentGroupList.tsx","src/screens/main/HomeScreen.tsx","src/screens/index.ts","src/hooks/useContent.ts","src/screens/main/ContentListScreen.tsx","src/navigation/index.tsx","src/navigation/Drawer.tsx","web/editor-config.js"],"sourcesContent":["import { Content, PostContent, PreviewRequest, ScrapPreview, FeedPreview } from '../types';\r\nimport axios from './axios';\r\n\r\n\r\nexport const getContentOne = async (id:number)=>{\r\n    return (await axios.get(`/api/v1/content/${id}`)).data as Content\r\n}\r\n\r\nexport const getContentList = async (parentId?:number, type?: Content['type'])=>{\r\n    const parentIdParam = parentId !== undefined?`&parentId=${parentId}`: ''\r\n    const typeParam = type !== undefined?`&type=${type}` : ''\r\n    return (await axios.get(`/api/v1/content?self=true&size=256${parentIdParam}${typeParam}`) ).data.value as Content[]\r\n}\r\n\r\nexport const getInfiniteContentList = async (parentId:number, type:'TIMELINE'|'LIBRARY'|'FEED', page:number)=>{\r\n    const parentIdParam = type==='TIMELINE' ? `&grandParentId=${parentId}`: `&parentId=${parentId}`\r\n    const size = type ===\"LIBRARY\"?\"256\":\"20\"\r\n    return { current: (await axios.get(`/api/v1/content?self=true&sort=id,DESC&size=${size}&page=${page}${parentIdParam}`) ).data.value as Content[] }\r\n}\r\n\r\nexport const postContent = async (postContent:PostContent)=>{\r\n    return ((await axios.post(`/api/v1/content`, postContent)).data as Content).id\r\n}\r\n\r\nexport const patchContent = async ({id, updated}:{id:number, updated:PostContent})=>{\r\n    await axios.patch(`/api/v1/content`,{ids: [id], updated})\r\n}\r\n\r\nexport const deleteContent = async (id: number) =>{\r\n    await axios.delete(`/api/v1/content/${id}`)\r\n}\r\n\r\nexport const pullFeed = async () =>{\r\n    await axios.get('/api/v1/feed/pull')\r\n}\r\n\r\nexport const previewScrap = async (preview: PreviewRequest) => {\r\n    const data = (await axios.get(`/api/v1/preview/autocomplete?query=${preview.query}`)).data\r\n    return {type:\"SCRAP\", ...data} as ScrapPreview\r\n}\r\n\r\nexport const previewFeed = async (preview: PreviewRequest) => {\r\n    const data =  (await axios.get(`/api/v1/feed/autocomplete?query=${preview.query}`)).data\r\n    return {type:\"FEED\", ...data} as FeedPreview\r\n}","import { QueryKey, useMutation, useQuery, useQueryClient } from \"react-query\";\r\nimport { deleteContent, getContentList, patchContent, postContent, pullFeed } from \"../services/feedynote\";\r\nimport { Content } from \"../types\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function useContentList(parentId?:number, type?: Content['type']){\r\n  const { data } = useQuery([\"ContentList\", parentId, type] , async()=> (parentId!==undefined || type!==undefined)?await getContentList(parentId, type):undefined)\r\n  return data\r\n}\r\n\r\nlet feedInterval:NodeJS.Timer\r\n\r\nexport function useContentMutation(){\r\n  const queryClient = useQueryClient()\r\n  const create = useMutation(postContent, {\r\n    onSuccess: ()=>{\r\n      queryClient.invalidateQueries(\"ContentList\")\r\n    }\r\n  })\r\n  const update = useMutation(patchContent, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(\"ContentList\")\r\n      queryClient.invalidateQueries(\"Content\")\r\n    }\r\n  })\r\n  const _delete = useMutation(deleteContent, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(\"ContentList\")\r\n    }\r\n  })\r\n  const _pullFeed = useMutation(async (key:QueryKey)=>{\r\n    console.log('pulling feed: ' + key)\r\n    const querykey = [\"ContentList\", ...key]\r\n    await queryClient.setQueryData(querykey, undefined)\r\n    await pullFeed()\r\n    return querykey\r\n  }, {\r\n    onSuccess: (key)=>{\r\n      queryClient.invalidateQueries(key)\r\n    }\r\n  })\r\n\r\n  useEffect(()=>{\r\n    if(feedInterval===undefined){\r\n      _pullFeed.mutateAsync([])\r\n      feedInterval = setInterval(()=>_pullFeed.mutateAsync([]), 20 * 60 * 1000)\r\n    }\r\n  }, [])\r\n\r\n  return {create:create.mutateAsync, update:update.mutateAsync, delete:_delete.mutateAsync, pullFeed:_pullFeed.mutateAsync}\r\n}","import React from \"react\";\r\nimport { View, FlatList, TouchableOpacity, StyleSheet, I18nManager, Platform, Image } from \"react-native\";\r\nimport { Text } from \"@blacktokki/core\"\r\nimport { List } from \"react-native-paper\";\r\n\r\nconst EventTime = ({ time: { content, style: timeStyle } = {}, style }:any) => {\r\n  return (\r\n    <View style={[styles.timeContainer, style]}>\r\n      <Text style={[styles.time, timeStyle]}>{content}</Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst EventIcon = ({ icon: OriginalIcon = {}, iconStyle, lineStyle }:any) => {\r\n  // Determines whether we are trying to render a custom icon component, or use the default\r\n  const iconIsComponent = typeof OriginalIcon === \"function\";\r\n  let iconToBeRendered = iconIsComponent ? (\r\n    <OriginalIcon styles={[styles.icon, iconStyle]} />\r\n  ) : (<List.Icon\r\n      icon={OriginalIcon.content}\r\n      style={[\r\n        styles.icon,\r\n        OriginalIcon.style ? OriginalIcon.style : null\r\n      ]}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <View style={[styles.iconContainer, iconStyle]}>\r\n      {iconToBeRendered}\r\n      <View style={[styles.verticalLine, lineStyle]} />\r\n    </View>\r\n  );\r\n};\r\n\r\n/*\r\nEvent component, is the component in which you can render whatever the event is about,\r\ne.g. Title, description, or even render a custom template by sending a render-prop with whatsoever\r\ncontent you need.\r\n*/\r\nconst Event = ({ children, style }:any) => {\r\n  return <View style={[styles.eventContainer, style]}>{children}</View>;\r\n};\r\n\r\n/*\r\nRow component, is the component that combines all the sub-components (EventIcon, Event, EventTime) and\r\ngets each 'event' as an argument of type object\r\n*/\r\nexport const TimeLineRow = ({\r\n  event = {},\r\n  eventStyle,\r\n  timeContainerStyle,\r\n  iconContainerStyle,\r\n  lineStyle,\r\n  contentContainerStyle\r\n}: any) => {\r\n  const {\r\n    title: OriginalTitle = {},\r\n    description: OriginalDescription = {},\r\n    imageUrl,\r\n    time,\r\n    icon,\r\n    pressAction\r\n  } = event;\r\n\r\n  // Determines whether or not the Row is clickable, and acts accordingly\r\n  const RowComp:React.ComponentType<any> = pressAction ? TouchableOpacity : View\r\n\r\n  // Determines whether the title is just a text and its style, or a render-prop function, and acts accrodingly\r\n  const titleIsComponent = OriginalTitle && typeof OriginalTitle === \"function\";\r\n  const title = titleIsComponent ? (\r\n    <OriginalTitle styles={styles.title} />\r\n  ) : (\r\n      <Text style={[styles.title, {fontSize:14}]}>\r\n        {OriginalTitle}\r\n      </Text>\r\n  );\r\n\r\n  // Determines whether the description is just a text and its style, or a render-prop function, and acts accrodingly\r\n  const descriptionIsComponent =\r\n    OriginalDescription && typeof OriginalDescription === \"function\";\r\n  const description = descriptionIsComponent ? (\r\n    <OriginalDescription styles={styles.description} />\r\n  ) : (\r\n    <View style={{flexDirection:'row'}}>\r\n      {imageUrl?<Image source={{uri:imageUrl}} resizeMode=\"cover\" style={{ width:'33%', maxWidth:150, minHeight:120, borderWidth:1}}/>:undefined}\r\n      <Text style={[styles.description, {fontSize:12}]}>\r\n        {OriginalDescription}\r\n      </Text>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <RowComp style={[styles.row, eventStyle]} onPress={pressAction}>\r\n      <EventTime time={time} style={timeContainerStyle} />\r\n      <EventIcon\r\n        icon={icon}\r\n        iconStyle={iconContainerStyle}\r\n        lineStyle={lineStyle}\r\n      />\r\n      <Event style={contentContainerStyle}>\r\n        {title}\r\n        {description}\r\n      </Event>\r\n    </RowComp>\r\n  );\r\n};\r\n\r\nexport default ({\r\n  data = [], // The actual event's array, array of objects, each object represents a single event\r\n  eventStyle = {}, // Each event's whole row's style\r\n  timeContainerStyle = {}, // The style object of the container that holds the time\r\n  iconContainerStyle = {}, // The style object of the container that holds the icon\r\n  lineStyle = {}, // The vertical line's style object\r\n  contentContainerStyle = {}, // The style object of the container that holds the content i.e. title and description\r\n  onEndReachedThreshold,\r\n  onEndReached,\r\n  TimelineFooter,\r\n  TimelineHeader,\r\n  ...rest\r\n}: any) => {\r\n  const events = (\r\n    <FlatList\r\n      data={data}\r\n      renderItem={({ item }) => (\r\n        <TimeLineRow\r\n          event={item}\r\n          eventStyle={eventStyle}\r\n          timeContainerStyle={timeContainerStyle}\r\n          iconContainerStyle={iconContainerStyle}\r\n          lineStyle={lineStyle}\r\n          contentContainerStyle={contentContainerStyle}\r\n        />\r\n      )}\r\n      keyExtractor={(_, ndx) => ndx.toString()}\r\n      onEndReached={onEndReached}\r\n      onEndReachedThreshold={onEndReachedThreshold || 0}\r\n      ListFooterComponent={TimelineFooter}\r\n      ListHeaderComponent={TimelineHeader}\r\n      {...rest}\r\n    />\r\n  );\r\n\r\n  return <View style={styles.container}>{events}</View>;\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      width: \"100%\"\r\n    },\r\n    row: {\r\n      flexDirection: \"row\",\r\n      alignItems: \"flex-start\",\r\n      marginVertical: 5\r\n    },\r\n    timeContainer: {\r\n      flexBasis: \"15%\",\r\n      paddingTop:10,\r\n    },\r\n    time: {\r\n      fontSize: 12,\r\n      color: \"#888\",\r\n      fontStyle: \"italic\",\r\n      textAlign: 'center'\r\n    },\r\n    iconContainer: {\r\n      flexBasis: \"5%\",\r\n      alignItems: \"center\",\r\n      alignSelf: \"stretch\",\r\n      marginHorizontal: \"5%\"\r\n    },\r\n    verticalLine: {\r\n      flex: 1,\r\n      width: 1,\r\n      backgroundColor: \"#ccc\"\r\n    },\r\n    eventContainer: {\r\n      flexBasis: \"65%\",\r\n      flexGrow:1,\r\n      alignItems: \"flex-start\",\r\n      padding: 16,\r\n      borderRadius: 15,\r\n      shadowOffset: { width: I18nManager.isRTL ? 8 : -8, height: 0 },\r\n      shadowColor: \"#888\",\r\n      shadowOpacity: 0.2,\r\n      marginBottom: 10,\r\n      borderTopLeftRadius: 0,\r\n    },\r\n    icon: {\r\n      textAlign: \"center\",\r\n      width: 20,\r\n      height: 20,\r\n      backgroundColor: \"#6F98FA\",\r\n      paddingTop: Platform.OS === \"ios\" ? 2.5 : 5,\r\n      borderRadius: 10,\r\n      fontSize: 9,\r\n      overflow: \"hidden\",\r\n      borderWidth: 3,\r\n      borderColor: '#e0e9ff'\r\n    },\r\n    title: {\r\n      fontSize: 12,\r\n      fontWeight: \"bold\",\r\n      textAlign: \"left\",\r\n      marginBottom: 5,\r\n      lineHeight: 20\r\n    },\r\n    description: {\r\n      textAlign: \"left\",\r\n      fontSize: 11,\r\n      lineHeight: 18,\r\n      paddingBottom: 10,\r\n    }\r\n  });","import * as React from 'react';\r\nimport { Content } from '../types';\r\nimport { navigate } from '@blacktokki/navigation';\r\nimport { Text, useColorScheme, useResizeContext, View as ThemedView } from '@blacktokki/core';\r\nimport { FlatList, ScrollView, TouchableOpacity, View } from 'react-native';\r\nimport { TimeLineRow } from './TimeLine';\r\nimport { Card } from 'react-native-paper';\r\nimport useInfiniteContentList from '../hooks/useInfiniteContentList';\r\n\r\nconst regexForStripHTML = /<\\/?[^>]*>/gi;\r\n\r\nconst updatedOffset = new Date().getTimezoneOffset()\r\n\r\nconst updatedFormat = (_updated:string) => {\r\n  const _date = new Date(_updated)\r\n  _date.setMinutes(_date.getMinutes() - updatedOffset)\r\n  const updated = _date.toISOString().slice(0, 16)\r\n    const date = updated.slice(0, 10)\r\n    const today = new Date().toISOString().slice(0, 10)\r\n    return date==today?updated.slice(11):date;\r\n}\r\n\r\n\r\nconst TimelinePage = React.memo(({data}: {data:Content[]})=>{\r\n  return data.map(v=>({...v, time:{content:updatedFormat(v.updated)}, pressAction: ()=>navigate('EditorScreen', {id:v.id})})).map((item, index)=>{\r\n    return <TimeLineRow \r\n      key={index}\r\n      event={item}\r\n    /> \r\n  })\r\n})\r\n\r\nconst cardPadding = (isLandscape:boolean) => isLandscape?20:0\r\n\r\nconst CardPage = React.memo(({data}: {data:Content[]})=>{\r\n  const window  = useResizeContext()\r\n  const cardMaxWidth = window===\"landscape\"? 230:205\r\n\r\n  return [...data]?.map((item, index)=>{\r\n    if (item === null){\r\n      return <ThemedView key={index} style={{flexBasis:window==='landscape'?'33%':'50%', maxWidth:cardMaxWidth}}/>\r\n    }\r\n    const content = item.description?.replaceAll(/\\n/g, \"\").replaceAll(/<hr\\s*[\\/]?>\\n/gi, '').replaceAll(/&nbsp;/gi, ' ').replaceAll(/<br\\s*[\\/]?>/gi, '\\r\\n').replaceAll(regexForStripHTML, '')\r\n    const onPress = ()=>navigate('EditorScreen', {id:item.id})\r\n    return <TouchableOpacity key={index} style={{flexBasis:window==='landscape'?'33%':'50%', padding:cardPadding(window==='landscape'), paddingRight:0, minWidth:cardMaxWidth, maxWidth:cardMaxWidth}} onPress={onPress}>\r\n        <Card onPress={onPress} style={{aspectRatio:1/Math.sqrt(2), borderRadius:6, marginVertical:10, marginHorizontal:8, overflow:'hidden'}}>\r\n          <Card.Content>\r\n          <Text style={{fontSize:16, opacity: 0.4}}>{content}</Text>\r\n          </Card.Content>\r\n        </Card>\r\n        <View style={{flexDirection:'row', marginTop:10, justifyContent:'space-between', alignItems:'center', width:'100%'}}>\r\n          <Text style={{fontSize:18}}>{item.title}</Text>\r\n          <Text style={{fontSize:14, opacity: 0.4, textAlign:'right'}}>{updatedFormat(item.updated)}</Text>\r\n            \r\n        </View>\r\n    </TouchableOpacity>\r\n  })\r\n})\r\n\r\nconst ContentList = ({ parentContent } : { parentContent:Content }) => {\r\n  const {data, fetchNextPage} = useInfiniteContentList(parentContent.id, parentContent.type as \"TIMELINE\" |\"LIBRARY\"| \"FEED\" )\r\n  const window  = useResizeContext()\r\n  const theme = useColorScheme()\r\n  return data && (\r\n    parentContent.type!=='LIBRARY'?\r\n    <FlatList\r\n      data={data.pages}\r\n      renderItem={({item})=><TimelinePage data={item.current}/>}\r\n      style={{height:0}}\r\n      onEndReached={()=>{\r\n        fetchNextPage()\r\n      }}\r\n    />:\r\n    <ScrollView \r\n      style={{ height:0}} \r\n      contentContainerStyle={{flexDirection:'row', justifyContent:'center'}}\r\n    >\r\n      <View style={{backgroundColor:'transparent', flexBasis:'100%', maxWidth:1280, flexWrap:'wrap', flexDirection:'row', paddingRight:cardPadding(window==='landscape')}}>\r\n        {data.pages.map((item, index)=><CardPage key={index} data={item.current}/>)}\r\n      </View>\r\n      {window === 'landscape' && <View style={{backgroundColor:'transparent', flexBasis:'0%', flexGrow:1, maxWidth:240}}></View>}\r\n    </ScrollView>)\r\n};\r\n\r\nexport default ContentList;","import { QueryKey, useInfiniteQuery, useMutation, useQuery, useQueryClient } from \"react-query\";\r\nimport { deleteContent, getInfiniteContentList, patchContent, postContent, pullFeed } from \"../services/feedynote\";\r\nimport { Content } from \"../types\";\r\n\r\nexport type ContentPage = {\r\n  next?:ContentPage\r\n  current:Content[]\r\n}\r\n\r\nexport default function useInfiniteContentList(parentId:number, type:'TIMELINE'|'LIBRARY'|'FEED'){\r\n  const { data, fetchNextPage } = useInfiniteQuery<ContentPage>(\r\n    [\"ContentList\", parentId], \r\n    async({pageParam})=>await getInfiniteContentList(parentId, type,  pageParam), \r\n    {\r\n      select:data=>{\r\n        if(data.pages.length > 1)\r\n          data.pages[data.pages.length - 2].next = data.pages[data.pages.length - 1]\r\n        return data;\r\n      },\r\n      getNextPageParam:(lastPage, allPages)=>allPages.length,\r\n      refetchOnReconnect:false,\r\n      //refetchOnWindowFocus:refetch\r\n    }\r\n  )\r\n  \r\n  return { data, fetchNextPage }\r\n}","import { useQuery } from \"react-query\";\r\nimport { previewFeed, previewScrap } from \"../services/feedynote\";\r\nimport { ScrapPreview, FeedPreview } from \"../types\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nlet _cache:Record<string, { title:string, description:string }> = {}\r\n\r\n\r\nexport const renderDescription = (preview:{title:string, url:string, description?:string, imageUrl?:string})=>{\r\n  return `<div class=\"scrap mceNonEditable\" style=\"border:1px solid #ddd; padding:10px; display:flex; align-items:center;\">\r\n  ${preview.imageUrl!==undefined?`<img src=\"${preview.imageUrl}\" alt=\"preview\" style=\"width:80px; height:80px; margin-right:10px;\">`:''}\r\n  <div style=\"word-break:break-word;\">\r\n    <strong>${preview.title}</strong><br>\r\n    <a href=\"${preview.url}\" target=\"_blank\">${preview.url}</a>\r\n    ${preview.description ? `<p>${preview.description}</p>`: \"\"}\r\n  </div>\r\n</div>`\r\n}\r\n\r\nconst callback = async(type:(ScrapPreview|FeedPreview)['type'], query:string)=> {\r\n  try {\r\n    new URL(query)\r\n  }\r\n  catch (_){\r\n    return undefined;\r\n  }\r\n  if (_cache[query]){\r\n    return _cache[query]\r\n  }\r\n  else{\r\n    const preview = type==='FEED'?await previewFeed({query}):await previewScrap({query})\r\n    if (preview && preview.title !==null){\r\n      const description =  renderDescription({...preview, url:query});\r\n        const _preview = {title:preview.title, description}\r\n        _cache[query] = _preview\r\n        return _preview;\r\n    }\r\n    else {\r\n      return undefined\r\n    }\r\n  }\r\n}\r\n\r\nexport default <T extends ScrapPreview|FeedPreview>(type:T['type'], query?:string)=>{\r\n  const [_query, setQuery] = useState<string>()\r\n  const { data } = useQuery([\"Preview\", type, _query] , async()=> _query?await callback(type, _query):undefined)\r\n\r\n  useEffect(()=>{\r\n    const timeout = setTimeout(()=>setQuery(query), 320)\r\n    return () => clearTimeout(timeout)\r\n  }, [query])\r\n  return data\r\n};;\r\n","import { StackScreenProps } from '@react-navigation/stack';\r\nimport { Linking, ScrollView, View } from 'react-native';\r\nimport { Editor, EditorHtml } from '@blacktokki/editor';\r\nimport  { CommonButton, View as ThemedView, useColorScheme, useLangContext } from '@blacktokki/core'\r\n\r\nimport React, { useLayoutEffect,useState } from 'react';\r\nimport useContentList, { useContentMutation } from '../../hooks/useContentList';\r\nimport { TextInput } from 'react-native-paper';\r\nimport { useAuthContext } from '@blacktokki/account';\r\nimport { navigate } from '@blacktokki/navigation';\r\nimport { Content } from '../../types';\r\nimport useContent from '../../hooks/useContent';\r\nimport usePreview, { renderDescription } from '../../hooks/usePreview';\r\n\r\n\r\nconst Scrap = React.memo((props:{url:string, replacer:(template:string)=>void})=>{\r\n  const preview = usePreview('SCRAP', props.url)\r\n  return preview?.description && <View style={{height:155, flexDirection:'row'}}>\r\n    <EditorHtml content={preview.description}/>\r\n    <CommonButton title={'✨'} onPress={()=>props.replacer(preview.description)} style={{height:155, paddingTop:65}}/>\r\n  </View>\r\n})\r\n\r\n\r\nconst _tmp = (re:RegExp, description :string)=>{\r\n  let str = description;\r\n  let index = 0;\r\n  let match;\r\n  let arr = []\r\n  while ((match = new RegExp(re).exec(str)) != null) {\r\n    arr.push({index, str:str.substring(0, match.index)})\r\n    const end = match.index + match[0].length\r\n    arr.push({index:index + match.index, str:str.substring(match.index, end)})\r\n    index += end;\r\n    str = str.substring(end)\r\n  }\r\n  arr.push({index, str})\r\n  return arr\r\n}\r\n\r\n\r\nconst _extractUrl = (description:string)=>{\r\n  const arr:{pos:number, url:string}[] = []\r\n  const re = /https?:\\/\\/(?:www\\\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)/gi\r\n  _tmp(/(<a .*?href=\"(.*?)\".*?>(.*)<\\/a>|<img .*?src=\"(.*?)\".*?\\/>)/, description).forEach((v, i)=>{\r\n    if (i % 2 == 1){\r\n      return;\r\n    }\r\n    _tmp(re, v.str).forEach((v2, i2)=>{\r\n      if( i2 % 2 == 1){\r\n        arr.push({pos:v.index + v2.index, url:v2.str})\r\n      }\r\n    })\r\n  })\r\n  return arr\r\n}\r\n\r\nconst renderScrap = (setDescription:(d:string)=>void, description?:string) => {\r\n  if (description === undefined){\r\n    return undefined\r\n  }\r\n  return _extractUrl(description).map((v, k)=><Scrap key={k} url={v.url} replacer={(template)=>{\r\n    setDescription(description.substring(0, v.pos) + template + description.substring(v.pos + v.url.length))\r\n  }}/>)\r\n}\r\n\r\n\r\nexport default function EditorScreen({ navigation, route }: StackScreenProps<any, 'Editor'>) {\r\n  const params = {\r\n    created: route?.params?.id === undefined,\r\n    id: parseInt(route?.params?.id),\r\n    parentId: route?.params?.parentId!==undefined?parseInt(route?.params?.parentId):0\r\n  } as { created:true, parentId:number } | { created:false, id:number }\r\n  const theme = useColorScheme()\r\n  const { lang } = useLangContext()\r\n  const { auth } = useAuthContext()\r\n\r\n  const content = useContent(params.created?undefined:params.id)\r\n  const list = useContentList(content?.parentId)\r\n\r\n  const contentMutation = useContentMutation()\r\n  const [input, setInput] = useState<string>()\r\n  const [description, setDescription] = useState<string>()\r\n  const [type, setType] = useState<Content['type']>()\r\n  const [editable, setEditable] = useState(false)\r\n  const onSave = ()=>{\r\n    if (!auth.user || (content?.input == input && content?.description == description) || type===undefined){\r\n        setEditable(false)\r\n        return;\r\n    }\r\n    let promise\r\n    if (params.created){\r\n        promise = contentMutation.create({userId:auth.user.id, parentId:params.parentId, type, order: (list?.length || 0) + 1, input:input || '', title:input || '', description}).then(v=>{\r\n            navigate(\"EditorScreen\", {id:v})\r\n        })\r\n    }\r\n    else if (content!==undefined){\r\n        promise = contentMutation.update({id: content.id, updated: {...content, type, input:input || '', title:input || '', description}})\r\n    }\r\n    promise?.then(()=>{\r\n        setEditable(false)\r\n    })\r\n  }\r\n\r\n  const defaultTitle = {\r\n    'NOTE': lang('New Note')\r\n  } as Record<Content['type'], string>\r\n\r\n  const onEdit = ()=>{setEditable(true)}\r\n  useLayoutEffect(()=>{\r\n    console.log(content?.id)\r\n    if(params.created){\r\n      const _type = 'NOTE'\r\n      setEditable(false)\r\n      setInput(defaultTitle[_type])\r\n      setDescription('')\r\n      setType(_type)\r\n    }\r\n    else if (content){\r\n      setEditable(false)\r\n      setInput(content.input)\r\n      setDescription(content.description)\r\n      setType(content.type)\r\n    }\r\n  }, [content?.id])\r\n\r\n  useLayoutEffect(() => {\r\n    if (params.created){\r\n      navigation.setOptions({\r\n        headerShown:false,\r\n      })\r\n    }\r\n    else if (content){\r\n        navigation.setOptions({\r\n            title: content.title,\r\n            headerRight: () => <View style={{flexDirection: 'row'}}>\r\n              {content.type === 'FEEDCONTENT'?\r\n                <CommonButton title={'🌐'} style={{height:40, paddingTop:8, marginRight:10}} onPress={()=>Linking.openURL(content.input)}/>:\r\n                <>\r\n                  <CommonButton title={'✏️'} style={{height:40, paddingTop:8, marginRight:10}} onPress={onEdit}/>\r\n                  <CommonButton title={'🗑️'} style={{height:40, paddingTop:8, marginRight:10}} onPress={()=>contentMutation.delete(content.id).then(v=>back())}/>\r\n                </>}\r\n            </View>,\r\n            headerShown: !editable\r\n          });\r\n      }\r\n  }, [navigation, content, editable]);\r\n\r\n  const back = ()=>{\r\n    if(navigation.canGoBack())\r\n        navigation.goBack()\r\n      else{\r\n        navigation.navigate('HomeScreen', {tab:1})\r\n      }\r\n  }\r\n  const editableExact = (params.created || editable)\r\n  return <ThemedView style={{width:\"100%\", height:\"100%\"}}>\r\n    {editableExact && input!==undefined && <TextInput mode='outlined' value={input} onChangeText={setInput} style={{borderRadius:20, margin:1}}/>}\r\n    {type === 'NOTE' && <Editor theme={theme} active={editableExact} value={description || ''} setValue={editableExact?setDescription:()=>{}}/>}\r\n    {editableExact && <>\r\n      {renderScrap(setDescription, description)}\r\n      <CommonButton title={lang('save')} onPress={onSave} style={{height:65, paddingVertical:20}}/>\r\n    </>}\r\n    <ScrollView style={{flex:editableExact?0:1}} contentContainerStyle={{flexGrow:1}}>\r\n      <EditorHtml content={content?.type==='FEEDCONTENT'?renderDescription({...content, url:content.input}): description || ''} onPress={content?.type==='FEEDCONTENT'?undefined:onEdit}/>\r\n    </ScrollView>\r\n    </ThemedView>\r\n}\r\n","import * as React from 'react';\r\nimport { List, TouchableRipple } from 'react-native-paper';\r\nimport { navigate } from '@blacktokki/navigation';\r\nimport { Colors, Text, useColorScheme, useLangContext, useResizeContext, View } from '@blacktokki/core';\r\nimport useContentList from '../hooks/useContentList';\r\nimport { Content } from '../types';\r\nimport MaterialCommunityIcon from 'react-native-paper/src/components/MaterialCommunityIcon';\r\nimport { I18nManager } from 'react-native';\r\n\r\n\r\ntype ContentSubGroupProps = {\r\n  timeline: Content\r\n}\r\n\r\ntype ContentGroupListProps = {\r\n  type: 'LIBRARY' | 'TIMELINE'\r\n}\r\n\r\nconst getItemPadding = (isLandscape:boolean)=>{\r\n  return isLandscape?5:8\r\n}\r\n\r\nconst ContentSubGroupList = (props:ContentSubGroupProps) => {\r\n  const theme = useColorScheme()\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const window = useResizeContext()\r\n  const data = useContentList(expanded?props.timeline.id:undefined);\r\n  const handlePress = () => setExpanded(!expanded);\r\n  const itemPadding = getItemPadding(window==='landscape')\r\n  const Left = ({isExpanded}:{isExpanded:boolean}) => {\r\n    return <MaterialCommunityIcon\r\n        name={isExpanded ? 'chevron-down' : 'chevron-right'}\r\n        color={Colors[theme].text}\r\n        size={24}\r\n        direction={I18nManager.getConstants().isRTL ? 'rtl' : 'ltr'}\r\n      />\r\n  }\r\n  return <View>\r\n      <List.Accordion\r\n        title={props.timeline.title}\r\n        expanded={expanded && data!==undefined}\r\n        style={{padding:itemPadding}}\r\n        onPress={()=>navigate('ContentListScreen', {id:props.timeline.id})}\r\n        left={(_props)=><List.Icon {..._props} icon={expanded?'chevron-down' : 'chevron-right'} />}\r\n        right={()=>undefined}\r\n      >\r\n        {data && data.map(v=><List.Item key={v.id} left={(_props)=><List.Icon {..._props} icon={\"rss\"} />} title={v.title} onPress={()=>navigate('ContentListScreen', {id:v.id})} style={{padding:itemPadding}} />)}\r\n      </List.Accordion>\r\n      <TouchableRipple style={{position:'absolute', justifyContent:'center', paddingLeft: 8 + itemPadding, width:40 + itemPadding * 2, height:40 + itemPadding*2 }} onPress={handlePress}>\r\n          <Left isExpanded={expanded}/>\r\n      </TouchableRipple>\r\n    </View>\r\n}\r\n\r\nconst ContentGroupList = ( props : ContentGroupListProps) => {\r\n  const data = useContentList(0, props.type);\r\n  const { lang } = useLangContext()\r\n  const window = useResizeContext()\r\n  const itemPadding = getItemPadding(window==='landscape')\r\n  return (\r\n    <List.Section>\r\n      <View style={{flexDirection:'row'}}>\r\n        <List.Subheader style={{flex:1}} selectable={false}>{lang(props.type==='LIBRARY'?\"Libraries\":\"Timelines\")}</List.Subheader>\r\n        <TouchableRipple onPress={()=>navigate('ContentListScreen', {type:props.type})}><List.Icon icon='plus' style={{margin:itemPadding}}/></TouchableRipple>\r\n      </View>\r\n        {data && data.map(v=>props.type == 'TIMELINE'?\r\n            <ContentSubGroupList key={v.id} timeline={v}/>:\r\n            <List.Item key={v.id} left={(_props)=><List.Icon {..._props} icon={\"library\"} />} title={v.title} onPress={()=>navigate('ContentListScreen', {id:v.id})} style={{padding:itemPadding }} />\r\n        )}\r\n    </List.Section>\r\n  );\r\n};\r\n\r\nexport default ContentGroupList;","import React, {} from 'react';\r\nimport { StackScreenProps } from '@react-navigation/stack';\r\nimport { ScrollView, View} from 'react-native';\r\nimport { Colors, Text, useColorScheme, useLangContext } from '@blacktokki/core';\r\nimport { HomeSection, ConfigSections } from '@blacktokki/navigation';\r\nimport { TabViewOption } from '@blacktokki/navigation/build/typescript/screens/main/HomeScreen/HomeSection';\r\nimport ContentGroupList from '../../components/ContentGroupList';\r\nimport { List } from 'react-native-paper';\r\n\r\nconst ContentTabView = ()=>{\r\n  const theme = useColorScheme()\r\n  return <ScrollView style={{flex:1, backgroundColor:Colors[theme].background}}>\r\n      <ContentGroupList type={'TIMELINE'} />\r\n      <ContentGroupList type={'LIBRARY'} />\r\n    </ScrollView>\r\n}\r\n\r\nconst ConfigTabView = ()=>{\r\n  const theme = useColorScheme()\r\n  return <ScrollView style={{flex:1, backgroundColor:Colors[theme].background}}>\r\n    <ConfigSections/>\r\n  </ScrollView>\r\n}\r\n\r\nexport default function HomeScreen({navigation, route}: StackScreenProps<any, 'Home'>) {\r\n  const { lang } = useLangContext()\r\n  const theme = useColorScheme()\r\n  const color = Colors[theme].text\r\n  const tabViews:TabViewOption[] = [\r\n    {title: lang('Contents'), component:ContentTabView, icon:<List.Icon icon={'table-of-contents'}/>, headerRight:()=><></>},\r\n    {title: lang('Config'), component:ConfigTabView, icon:<List.Icon icon={'dots-horizontal'}/>, headerRight:()=><></>}\r\n  ]\r\n  return <HomeSection tabViews={tabViews} title={lang('home')}>\r\n    <View style={{flexGrow:1, width:'80%', marginTop:72}}>\r\n      <Text style={{fontSize:32, color}}>feedynote</Text>\r\n      <View style={{backgroundColor:Colors.borderColor, height:1, width:'100%'}}/>\r\n      {/* <Text style={{fontSize:20, color:'gray'}}>Welcome! This is a messenger for teams.</Text>*/}\r\n      <View style={{height:24}}/>\r\n      <ConfigSections/>\r\n    </View>\r\n  </HomeSection>\r\n}\r\n","import ContentListScreen from \"./main/ContentListScreen\";\r\nimport EditorScreen from \"./main/EditorScreen\";\r\nimport HomeScreen from \"./main/HomeScreen\";\r\n\r\nexport const main = {\r\n    HomeScreen:{\r\n      title:'home',\r\n      component:HomeScreen,\r\n      path:'home',\r\n    },\r\n    EditorScreen: {\r\n      path: 'editor',\r\n      title: 'editor',\r\n      component: EditorScreen\r\n    },\r\n    ContentListScreen: {\r\n      path: 'contents',\r\n      title: 'contents',\r\n      component: ContentListScreen\r\n    }\r\n  };\r\n  ","import { useQuery } from \"react-query\";\r\nimport { getContentOne } from \"../services/feedynote\";\r\n\r\nexport default function useContent(id?:number){\r\n  const { data } = useQuery([\"Content\", id] , async()=> (id?await getContentOne(id):undefined))\r\n  return data\r\n}","import { StackScreenProps } from '@react-navigation/stack';\r\nimport { ScrollView,  View } from 'react-native';\r\nimport  { CommonButton, Text, View as ThemedView, useLangContext } from '@blacktokki/core'\r\n\r\nimport React, { useLayoutEffect,useState } from 'react';\r\nimport useContentList, { useContentMutation } from '../../hooks/useContentList';\r\nimport { TextInput } from 'react-native-paper';\r\nimport { useAuthContext } from '@blacktokki/account';\r\nimport { navigate } from '@blacktokki/navigation';\r\nimport { Content } from '../../types';\r\nimport ContentList from '../../components/ContentList';\r\nimport usePreview from '../../hooks/usePreview';\r\n\r\nexport default function ContentListScreen({ navigation, route }: StackScreenProps<any, 'ContentList'>) {\r\n  const params = {\r\n    created: route?.params?.id === undefined,\r\n    id: parseInt(route?.params?.id),\r\n    parentId: route?.params?.parentId?parseInt(route.params.parentId):undefined,\r\n    type: route?.params?.type\r\n  } as { created:true, type:'LIBRARY'|'TIMELINE' } | {created:true, type: 'FEED', parentId?:number} | { created:false, id:number }\r\n  const { lang } = useLangContext()\r\n  const { auth } = useAuthContext()\r\n\r\n  const rootlist = useContentList(0);\r\n  const feedlist = useContentList(undefined, \"FEED\")\r\n  const list = rootlist!==undefined && feedlist!==undefined ? [...rootlist, ...feedlist]: undefined\r\n  const contentMutation = useContentMutation()\r\n  const content = params.created?undefined:list?.find(v=>v.id===params.id)\r\n  const [input, setInput] = useState<string>()\r\n  const [type, setType] = useState<Content['type']>()\r\n  const [editable, setEditable] = useState(false)\r\n  const preview = usePreview('FEED', params.created && params.type==='FEED'?input:undefined)\r\n  const back = ()=>{\r\n    if(navigation.canGoBack())\r\n        navigation.goBack()\r\n      else{\r\n        navigation.navigate('HomeScreen', {tab:1})\r\n      }\r\n  }\r\n  if (params.created && params.type === 'FEED' && params.parentId ===undefined){\r\n    back()\r\n  }\r\n  const onSave = ()=>{\r\n    if (!auth.user || (content?.input == input) || type===undefined){\r\n        setEditable(false)\r\n        return;\r\n    }\r\n    let promise\r\n    const title = preview?.title?preview.title:input || ''\r\n    if (params.created){\r\n        const typedList = list?.filter(v=>v.type == params.type)\r\n        promise = contentMutation.create({userId:auth.user.id, parentId:params.type==='FEED'?params.parentId as number:0, type, order: (typedList?.length || 0) + 1, input:input || '', title}).then(v=>{\r\n            navigate(\"ContentListScreen\", {id:v})\r\n        })\r\n    }\r\n    else if (content!==undefined){\r\n        promise = contentMutation.update({id: content.id, updated: {...content, type, input:input || '', title}})\r\n    }\r\n    promise?.then(()=>{\r\n        setEditable(false)\r\n    })\r\n  }\r\n\r\n  const defaultTitle = {\r\n    'LIBRARY': lang('New Library'),\r\n    'TIMELINE': lang('New Timelines'),\r\n    'FEED': \"https://\"\r\n  } as Record<Content['type'], string>\r\n\r\n  const onEdit = ()=>{setEditable(true)}\r\n  useLayoutEffect(()=>{\r\n    if(params.created){\r\n      setEditable(false)\r\n      setInput(defaultTitle[params.type])\r\n      setType(params.type)\r\n    }\r\n    else if (content){\r\n      setEditable(false)\r\n      setInput(content.input)\r\n      setType(type)\r\n    }\r\n  }, [content])\r\n\r\n  useLayoutEffect(() => {\r\n    if (params.created){\r\n      navigation.setOptions({\r\n        headerShown:false,\r\n      })\r\n    }\r\n    else if (content){\r\n        navigation.setOptions({\r\n            title: content.title,\r\n            headerRight: () => <View style={{flexDirection: 'row'}}>\r\n              {content.type==='LIBRARY' && <CommonButton title={'⊕'} style={{height:40, paddingTop:8, marginRight:10}} onPress={()=>navigate('EditorScreen', {parentId:content.id})}/>}\r\n              {content.type==='TIMELINE' && <CommonButton title={'⊕'} style={{height:40, paddingTop:8, marginRight:10}} onPress={()=>navigate('ContentListScreen', {type:\"FEED\", parentId:content.id})}/>}\r\n              {content.type!=='LIBRARY' && <CommonButton title={'🔄'} style={{height:40, paddingTop:8, marginRight:10}} onPress={()=>contentMutation.pullFeed(content.type===\"TIMELINE\"?[undefined, 'FEEDCONTENT']:[content.id, undefined])}/>}\r\n              <CommonButton title={'✏️'} style={{height:40, paddingTop:8, marginRight:10}} onPress={onEdit}/>\r\n              <CommonButton title={'🗑️'} style={{height:40, paddingTop:8, marginRight:10}} onPress={()=>contentMutation.delete(content.id).then(v=>back())}/>\r\n            </View>,\r\n            headerShown: !editable\r\n          });\r\n      }\r\n  }, [navigation, content, editable]);\r\n\r\n  const editableExact = (params.created || editable)\r\n\r\n  return <ThemedView style={{width:\"100%\", height:\"100%\", backgroundColor:'transparent'}}>\r\n    {editableExact?\r\n      <>\r\n        {input!==undefined && <TextInput mode='outlined' value={input} onChangeText={setInput} style={{borderRadius:20, margin:1}}/>}\r\n        {preview?.description &&<Text>{preview.description}</Text>}\r\n        {(type!=='FEED' || preview!==undefined) &&<CommonButton title={lang('save')} onPress={onSave} style={{height:65, paddingVertical:20}}/>}\r\n        <CommonButton title={lang('cancel')} onPress={params.created?back:()=>setEditable(false)} style={{height:65, paddingVertical:20}}/>\r\n      </>:\r\n      <ScrollView style={{flex:1}} contentContainerStyle={{flexGrow:1}}>\r\n        {content && <ContentList parentContent={content}/>}\r\n      </ScrollView>}\r\n    </ThemedView>\r\n}\r\n","import React from 'react';\r\nimport * as Linking from 'expo-linking';\r\nimport { login, Navigation } from \"@blacktokki/navigation\"\r\nimport { NavigationConfig } from '@blacktokki/navigation/build/typescript/types';\r\nimport { main } from '../screens';\r\nimport Drawer from './Drawer';\r\nimport { Colors, useColorScheme } from '@blacktokki/core';\r\nimport { Icon, List, MD2DarkTheme, MD2LightTheme, PaperProvider } from 'react-native-paper';\r\n\r\nconst config:NavigationConfig = {\r\n    main,\r\n    login,\r\n    prefixes: [ Linking.makeUrl('/') ],\r\n    rootPath: 'feedynote',\r\n    documentTitle: {\r\n        formatter: ()=>{\r\n            return 'feedynote'\r\n        }\r\n    },\r\n    rootScreen: {\r\n        main: 'HomeScreen',\r\n        login: 'LoginScreen'\r\n    },\r\n    headerLeftIcon: <List.Icon icon='backburger' style={{left:-18, top: -14}} />,\r\n    headerRight: <></>,\r\n    modals: [],\r\n    drawer: <Drawer/>\r\n}\r\n\r\nexport default () => {\r\n    const scheme = useColorScheme()\r\n    const preTheme = scheme == 'dark' ? MD2DarkTheme : MD2LightTheme;\r\n    const theme:typeof preTheme = {...preTheme, colors:{...preTheme.colors, primary:Colors[scheme].text} }\r\n    return <PaperProvider theme={theme}>\r\n        <Navigation config={config}/>\r\n    </PaperProvider>\r\n}","import React from 'react';\r\nimport ContentGroupList from '../components/ContentGroupList';\r\nimport { ScrollView } from 'react-native';\r\nimport { List } from 'react-native-paper';\r\nimport { useLangContext } from '@blacktokki/core';\r\nimport { navigate } from '@blacktokki/navigation';\r\n\r\nexport default ()=>{\r\n    const {lang} = useLangContext()\r\n    return <ScrollView style={{flex:1}}>\r\n        <List.Item left={_props=><List.Icon {..._props} icon={\"home\"} />} title={lang(\"Home\")} onPress={()=>navigate('HomeScreen')} />\r\n        <ContentGroupList type={'TIMELINE'}/>\r\n        <ContentGroupList type={'LIBRARY'}/>\r\n    </ScrollView>\r\n}","editorConfig = {\r\n    plugins: 'image link charmap advlist lists paste hr noneditable', //autoresize textcolor imagetools,\r\n    toolbar: 'fontsizeselect | bold italic underline strikethrough | undo redo | alignleft aligncenter alignright | bullist numlist | hr link', // charmap removeformat\r\n    setup: (editor)=>{\r\n    }\r\n}\r\nif (typeof module !== 'undefined') {\r\n    module.exports = editorConfig\r\n}\r\n"],"names":["feedInterval","getContentOne","_ref","_asyncToGenerator","id","axios","get","data","_x","apply","arguments","getContentList","_ref2","parentId","type","parentIdParam","undefined","typeParam","value","_x2","_x3","getInfiniteContentList","_ref3","page","size","current","_x4","_x5","_x6","postContent","_ref4","post","_x7","patchContent","_ref6","_ref5","updated","patch","ids","_x8","deleteContent","_ref7","delete","_x9","pullFeed","_ref8","previewScrap","_ref9","preview","_objectSpread","query","_x10","previewFeed","_ref10","_x11","useContentList","useQuery","useContentMutation","queryClient","useQueryClient","create","useMutation","onSuccess","invalidateQueries","update","_delete","_pullFeed","key","console","log","querykey","concat","_toConsumableArray","setQueryData","useEffect","mutateAsync","setInterval","EventTime","_ref$time","time","content","timeStyle","style","_jsx","View","styles","timeContainer","children","Text","EventIcon","_ref2$icon","icon","OriginalIcon","iconStyle","lineStyle","iconToBeRendered","List","_jsxs","iconContainer","verticalLine","Event","eventContainer","TimeLineRow","_ref4$event","event","eventStyle","timeContainerStyle","iconContainerStyle","contentContainerStyle","_event$title","title","OriginalTitle","_event$description","description","OriginalDescription","imageUrl","pressAction","RowComp","TouchableOpacity","fontSize","flexDirection","Image","source","uri","resizeMode","width","maxWidth","minHeight","borderWidth","row","onPress","StyleSheet","container","flex","alignItems","marginVertical","flexBasis","paddingTop","color","fontStyle","textAlign","alignSelf","marginHorizontal","backgroundColor","flexGrow","padding","borderRadius","shadowOffset","I18nManager","isRTL","height","shadowColor","shadowOpacity","marginBottom","borderTopLeftRadius","Platform","OS","overflow","borderColor","fontWeight","lineHeight","paddingBottom","regexForStripHTML","updatedOffset","Date","getTimezoneOffset","updatedFormat","_updated","_date","setMinutes","getMinutes","toISOString","slice","date","TimelinePage","React","map","v","navigate","item","index","cardPadding","isLandscape","CardPage","window","useResizeContext","cardMaxWidth","_item$description","ThemedView","replaceAll","paddingRight","minWidth","Card","aspectRatio","Math","sqrt","Content","opacity","marginTop","justifyContent","parentContent","_useInfiniteContentLi","_useInfiniteQuery","useInfiniteQuery","pageParam","select","pages","length","next","getNextPageParam","lastPage","allPages","refetchOnReconnect","fetchNextPage","useInfiniteContentList","useColorScheme","FlatList","renderItem","onEndReached","ScrollView","flexWrap","_cache","renderDescription","url","callback","URL","_","_preview","_useState","useState","_useState2","_slicedToArray","_query","setQuery","timeout","setTimeout","clearTimeout","Scrap","props","usePreview","EditorHtml","CommonButton","replacer","_tmp","re","match","str","arr","RegExp","exec","push","substring","end","renderScrap","setDescription","forEach","i","v2","i2","pos","_extractUrl","k","template","getItemPadding","ContentSubGroupList","theme","_React$useState","_React$useState2","expanded","setExpanded","timeline","itemPadding","left","_props","right","TouchableRipple","position","paddingLeft","isExpanded","MaterialCommunityIcon","name","Colors","text","direction","getConstants","lang","useLangContext","selectable","margin","ContentTabView","background","ContentGroupList","ConfigTabView","ConfigSections","main","HomeScreen","component","navigation","route","tabViews","headerRight","_Fragment","HomeSection","path","EditorScreen","_route$params","_route$params2","_route$params3","_route$params4","params","created","parseInt","auth","useAuthContext","list","contentMutation","input","setInput","_useState3","_useState4","_useState5","_useState6","setType","_useState7","_useState8","editable","setEditable","defaultTitle","onEdit","useLayoutEffect","_type","setOptions","headerShown","marginRight","Linking","openURL","then","back","canGoBack","goBack","tab","editableExact","TextInput","mode","onChangeText","Editor","active","setValue","_promise","promise","user","userId","order","paddingVertical","ContentListScreen","rootlist","feedlist","find","typedList","filter","ContentList","config","login","prefixes","makeUrl","rootPath","documentTitle","formatter","rootScreen","headerLeftIcon","top","modals","drawer","scheme","preTheme","MD2DarkTheme","MD2LightTheme","colors","primary","PaperProvider","Navigation","editorConfig","plugins","toolbar","setup","editor","module","exports"],"sourceRoot":""}